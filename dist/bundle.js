/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
/******/ (() => { // webpackBootstrap
/******/ 	"use strict";
/******/ 	var __webpack_modules__ = ({

/***/ "./src/style.css":
/*!***********************!*\
  !*** ./src/style.css ***!
  \***********************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n// extracted by mini-css-extract-plugin\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvc3R5bGUuY3NzLmpzIiwibWFwcGluZ3MiOiI7QUFBQSIsInNvdXJjZXMiOlsid2VicGFjazovL2FzeW5jLXJhY2UvLi9zcmMvc3R5bGUuY3NzP2UzMjAiXSwic291cmNlc0NvbnRlbnQiOlsiLy8gZXh0cmFjdGVkIGJ5IG1pbmktY3NzLWV4dHJhY3QtcGx1Z2luXG5leHBvcnQge307Il0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./src/style.css\n");

/***/ }),

/***/ "./src/index.js":
/*!**********************!*\
  !*** ./src/index.js ***!
  \**********************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _style_css__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./style.css */ \"./src/style.css\");\n/* harmony import */ var _modules_app__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./modules/app */ \"./src/modules/app.js\");\n\r\n\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvaW5kZXguanMuanMiLCJtYXBwaW5ncyI6Ijs7O0FBQXFCO0FBQ0UiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9hc3luYy1yYWNlLy4vc3JjL2luZGV4LmpzP2I2MzUiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0ICcuL3N0eWxlLmNzcyc7XHJcbmltcG9ydCAnLi9tb2R1bGVzL2FwcCc7XHJcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./src/index.js\n");

/***/ }),

/***/ "./src/modules/api.js":
/*!****************************!*\
  !*** ./src/modules/api.js ***!
  \****************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"createCar\": () => (/* binding */ createCar),\n/* harmony export */   \"createWinner\": () => (/* binding */ createWinner),\n/* harmony export */   \"deleteCar\": () => (/* binding */ deleteCar),\n/* harmony export */   \"deleteWinner\": () => (/* binding */ deleteWinner),\n/* harmony export */   \"driveCar\": () => (/* binding */ driveCar),\n/* harmony export */   \"getAllWinners\": () => (/* binding */ getAllWinners),\n/* harmony export */   \"getCar\": () => (/* binding */ getCar),\n/* harmony export */   \"getCars\": () => (/* binding */ getCars),\n/* harmony export */   \"getSortWinners\": () => (/* binding */ getSortWinners),\n/* harmony export */   \"getWinner\": () => (/* binding */ getWinner),\n/* harmony export */   \"getWinners\": () => (/* binding */ getWinners),\n/* harmony export */   \"startCar\": () => (/* binding */ startCar),\n/* harmony export */   \"stopCar\": () => (/* binding */ stopCar),\n/* harmony export */   \"updateCar\": () => (/* binding */ updateCar),\n/* harmony export */   \"updateWinner\": () => (/* binding */ updateWinner)\n/* harmony export */ });\nconst host = 'https://async-race-api.up.railway.app';\r\n\r\nasync function sendRequest(pathname, searchParams, params = {}) {\r\n  const url = new URL(pathname, host);\r\n  if (searchParams) {\r\n    Object.keys(searchParams).forEach((key) => url.searchParams.append(key, searchParams[key]));\r\n  }\r\n  const result = await fetch(url, params)\r\n    .then((response) => {\r\n      if (!response.ok) {\r\n        throw new Error(response.status);\r\n      }\r\n      return response.json();\r\n    })\r\n    .then((data) => data);\r\n  return result;\r\n}\r\n\r\nasync function sendPageRequest(pathname, searchParams, params = {}) {\r\n  let totalCount;\r\n  const url = new URL(pathname, host);\r\n  if (searchParams) {\r\n    Object.keys(searchParams).forEach((key) => url.searchParams.append(key, searchParams[key]));\r\n  }\r\n  const carsList = await fetch(url, params)\r\n    .then((response) => {\r\n      totalCount = response.headers.get('X-Total-Count');\r\n      return response.json();\r\n    })\r\n    .then((data) => data);\r\n  return { carsList, totalCount };\r\n}\r\n\r\nasync function getCars(_page, _limit) {\r\n  const result = await sendPageRequest('garage', { _page, _limit });\r\n  return result;\r\n}\r\n\r\nasync function getCar(id) {\r\n  const result = await sendRequest(`garage/${id}`)\r\n    .catch((error) => {\r\n      switch (error.message) {\r\n        case '404': return { status: 'not found' };\r\n        default: return { status: 'unknown error' };\r\n      }\r\n    });\r\n  return result;\r\n}\r\n\r\nasync function createCar(car) {\r\n  const params = {\r\n    method: 'POST',\r\n    headers: {\r\n      'Content-Type': 'application/json',\r\n    },\r\n    body: JSON.stringify(car),\r\n  };\r\n  const result = await sendRequest('garage', null, params);\r\n  return result;\r\n}\r\n\r\nasync function updateCar({ id, name, color }) {\r\n  const params = {\r\n    method: 'PUT',\r\n    headers: {\r\n      'Content-Type': 'application/json',\r\n    },\r\n    body: JSON.stringify({ name, color }),\r\n  };\r\n  const result = await sendRequest(`garage/${id}`, null, params)\r\n    .catch((error) => {\r\n      switch (error.message) {\r\n        case '404': return { status: 'not found' };\r\n        default: return { status: 'unknown error' };\r\n      }\r\n    });\r\n  return result;\r\n}\r\n\r\nasync function deleteCar(id) {\r\n  const result = await sendRequest(`garage/${id}`, null, { method: 'DELETE' })\r\n    .catch((error) => {\r\n      switch (error.message) {\r\n        case '404': return { status: 'not found' };\r\n        default: return { status: 'unknown error' };\r\n      }\r\n    });\r\n  return result;\r\n}\r\n\r\nasync function startStopCar(id, status) {\r\n  const result = await sendRequest('engine', { id, status }, { method: 'PATCH' })\r\n    .catch((error) => {\r\n      switch (error.message) {\r\n        case '400': return { status: 'invalid status' };\r\n        case '404': return { status: 'not found' };\r\n        default: return { status: 'unknown error' };\r\n      }\r\n    });\r\n  return result;\r\n}\r\n\r\nasync function startCar(id) {\r\n  const result = await startStopCar(id, 'started');\r\n  return result;\r\n}\r\n\r\nasync function stopCar(id) {\r\n  const result = await startStopCar(id, 'stopped');\r\n  return result;\r\n}\r\n\r\nasync function driveCar(id) {\r\n  const result = await sendRequest('engine', { id, status: 'drive' }, { method: 'PATCH' })\r\n    .then(() => ({ status: 'finished' }))\r\n    .catch((error) => {\r\n      switch (error.message) {\r\n        case '499': return { status: 'broken' };\r\n        case '429': return { status: 'ignore' };\r\n        case '404': return { status: 'not found' };\r\n        default: return { status: 'unknown error' };\r\n      }\r\n    });\r\n  return result;\r\n}\r\n\r\nasync function getAllWinners() {\r\n  const result = await sendRequest('winners');\r\n  return result;\r\n}\r\n\r\nasync function getWinners(page, winnersCarsOnPage) {\r\n  const result = await sendPageRequest('winners', { _page: page, _limit: winnersCarsOnPage });\r\n  return result;\r\n}\r\n\r\nasync function getSortWinners(page, winnersCarsOnPage, { sortParam, sortOrder }) {\r\n  const result = await sendPageRequest('winners', {\r\n    _page: page,\r\n    _limit: winnersCarsOnPage,\r\n    _sort: sortParam,\r\n    _order: sortOrder,\r\n  });\r\n  return result;\r\n}\r\n\r\nasync function getWinner(id) {\r\n  const result = await sendRequest(`winners/${id}`)\r\n    .catch((error) => {\r\n      switch (error.message) {\r\n        case '404': return { status: 'not found' };\r\n        default: return { status: 'unknown error' };\r\n      }\r\n    });\r\n  return result;\r\n}\r\n\r\nasync function deleteWinner(id) {\r\n  const result = await sendRequest(`winners/${id}`, null, { method: 'DELETE' });\r\n  return result;\r\n}\r\n\r\nasync function createWinner({ id, wins, time }) {\r\n  const params = {\r\n    method: 'POST',\r\n    headers: {\r\n      'Content-Type': 'application/json',\r\n    },\r\n    body: JSON.stringify({ id, wins, time }),\r\n  };\r\n  const result = await sendRequest('winners', null, params);\r\n  return result;\r\n}\r\n\r\nasync function updateWinner({ id, wins, time }) {\r\n  const params = {\r\n    method: 'PUT',\r\n    headers: {\r\n      'Content-Type': 'application/json',\r\n    },\r\n    body: JSON.stringify({ wins, time }),\r\n  };\r\n  const result = await sendRequest(`winners/${id}`, null, params);\r\n  return result;\r\n}\r\n\r\n\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvbW9kdWxlcy9hcGkuanMuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQUE7QUFDQTtBQUNBLDhEQUE4RDtBQUM5RDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBLGtFQUFrRTtBQUNsRTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQSxXQUFXO0FBQ1g7QUFDQTtBQUNBO0FBQ0EsbURBQW1ELGVBQWU7QUFDbEU7QUFDQTtBQUNBO0FBQ0E7QUFDQSw2Q0FBNkMsR0FBRztBQUNoRDtBQUNBO0FBQ0EsNkJBQTZCO0FBQzdCLDBCQUEwQjtBQUMxQjtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDJCQUEyQixpQkFBaUI7QUFDNUM7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0wsMkJBQTJCLGFBQWE7QUFDeEM7QUFDQSw2Q0FBNkMsR0FBRztBQUNoRDtBQUNBO0FBQ0EsNkJBQTZCO0FBQzdCLDBCQUEwQjtBQUMxQjtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBLDZDQUE2QyxHQUFHLFdBQVcsa0JBQWtCO0FBQzdFO0FBQ0E7QUFDQSw2QkFBNkI7QUFDN0IsMEJBQTBCO0FBQzFCO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsK0NBQStDLFlBQVksSUFBSSxpQkFBaUI7QUFDaEY7QUFDQTtBQUNBLDZCQUE2QjtBQUM3Qiw2QkFBNkI7QUFDN0IsMEJBQTBCO0FBQzFCO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwrQ0FBK0MscUJBQXFCLElBQUksaUJBQWlCO0FBQ3pGLG1CQUFtQixvQkFBb0I7QUFDdkM7QUFDQTtBQUNBLDZCQUE2QjtBQUM3Qiw2QkFBNkI7QUFDN0IsNkJBQTZCO0FBQzdCLDBCQUEwQjtBQUMxQjtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxvREFBb0Qsd0NBQXdDO0FBQzVGO0FBQ0E7QUFDQTtBQUNBLHlEQUF5RCxzQkFBc0I7QUFDL0U7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBLDhDQUE4QyxHQUFHO0FBQ2pEO0FBQ0E7QUFDQSw2QkFBNkI7QUFDN0IsMEJBQTBCO0FBQzFCO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsOENBQThDLEdBQUcsV0FBVyxrQkFBa0I7QUFDOUU7QUFDQTtBQUNBO0FBQ0EsOEJBQThCLGdCQUFnQjtBQUM5QztBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTCwyQkFBMkIsZ0JBQWdCO0FBQzNDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw4QkFBOEIsZ0JBQWdCO0FBQzlDO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMLDJCQUEyQixZQUFZO0FBQ3ZDO0FBQ0EsOENBQThDLEdBQUc7QUFDakQ7QUFDQTtBQUNBO0FBaUJFIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vYXN5bmMtcmFjZS8uL3NyYy9tb2R1bGVzL2FwaS5qcz8zOWY0Il0sInNvdXJjZXNDb250ZW50IjpbImNvbnN0IGhvc3QgPSAnaHR0cHM6Ly9hc3luYy1yYWNlLWFwaS51cC5yYWlsd2F5LmFwcCc7XHJcblxyXG5hc3luYyBmdW5jdGlvbiBzZW5kUmVxdWVzdChwYXRobmFtZSwgc2VhcmNoUGFyYW1zLCBwYXJhbXMgPSB7fSkge1xyXG4gIGNvbnN0IHVybCA9IG5ldyBVUkwocGF0aG5hbWUsIGhvc3QpO1xyXG4gIGlmIChzZWFyY2hQYXJhbXMpIHtcclxuICAgIE9iamVjdC5rZXlzKHNlYXJjaFBhcmFtcykuZm9yRWFjaCgoa2V5KSA9PiB1cmwuc2VhcmNoUGFyYW1zLmFwcGVuZChrZXksIHNlYXJjaFBhcmFtc1trZXldKSk7XHJcbiAgfVxyXG4gIGNvbnN0IHJlc3VsdCA9IGF3YWl0IGZldGNoKHVybCwgcGFyYW1zKVxyXG4gICAgLnRoZW4oKHJlc3BvbnNlKSA9PiB7XHJcbiAgICAgIGlmICghcmVzcG9uc2Uub2spIHtcclxuICAgICAgICB0aHJvdyBuZXcgRXJyb3IocmVzcG9uc2Uuc3RhdHVzKTtcclxuICAgICAgfVxyXG4gICAgICByZXR1cm4gcmVzcG9uc2UuanNvbigpO1xyXG4gICAgfSlcclxuICAgIC50aGVuKChkYXRhKSA9PiBkYXRhKTtcclxuICByZXR1cm4gcmVzdWx0O1xyXG59XHJcblxyXG5hc3luYyBmdW5jdGlvbiBzZW5kUGFnZVJlcXVlc3QocGF0aG5hbWUsIHNlYXJjaFBhcmFtcywgcGFyYW1zID0ge30pIHtcclxuICBsZXQgdG90YWxDb3VudDtcclxuICBjb25zdCB1cmwgPSBuZXcgVVJMKHBhdGhuYW1lLCBob3N0KTtcclxuICBpZiAoc2VhcmNoUGFyYW1zKSB7XHJcbiAgICBPYmplY3Qua2V5cyhzZWFyY2hQYXJhbXMpLmZvckVhY2goKGtleSkgPT4gdXJsLnNlYXJjaFBhcmFtcy5hcHBlbmQoa2V5LCBzZWFyY2hQYXJhbXNba2V5XSkpO1xyXG4gIH1cclxuICBjb25zdCBjYXJzTGlzdCA9IGF3YWl0IGZldGNoKHVybCwgcGFyYW1zKVxyXG4gICAgLnRoZW4oKHJlc3BvbnNlKSA9PiB7XHJcbiAgICAgIHRvdGFsQ291bnQgPSByZXNwb25zZS5oZWFkZXJzLmdldCgnWC1Ub3RhbC1Db3VudCcpO1xyXG4gICAgICByZXR1cm4gcmVzcG9uc2UuanNvbigpO1xyXG4gICAgfSlcclxuICAgIC50aGVuKChkYXRhKSA9PiBkYXRhKTtcclxuICByZXR1cm4geyBjYXJzTGlzdCwgdG90YWxDb3VudCB9O1xyXG59XHJcblxyXG5hc3luYyBmdW5jdGlvbiBnZXRDYXJzKF9wYWdlLCBfbGltaXQpIHtcclxuICBjb25zdCByZXN1bHQgPSBhd2FpdCBzZW5kUGFnZVJlcXVlc3QoJ2dhcmFnZScsIHsgX3BhZ2UsIF9saW1pdCB9KTtcclxuICByZXR1cm4gcmVzdWx0O1xyXG59XHJcblxyXG5hc3luYyBmdW5jdGlvbiBnZXRDYXIoaWQpIHtcclxuICBjb25zdCByZXN1bHQgPSBhd2FpdCBzZW5kUmVxdWVzdChgZ2FyYWdlLyR7aWR9YClcclxuICAgIC5jYXRjaCgoZXJyb3IpID0+IHtcclxuICAgICAgc3dpdGNoIChlcnJvci5tZXNzYWdlKSB7XHJcbiAgICAgICAgY2FzZSAnNDA0JzogcmV0dXJuIHsgc3RhdHVzOiAnbm90IGZvdW5kJyB9O1xyXG4gICAgICAgIGRlZmF1bHQ6IHJldHVybiB7IHN0YXR1czogJ3Vua25vd24gZXJyb3InIH07XHJcbiAgICAgIH1cclxuICAgIH0pO1xyXG4gIHJldHVybiByZXN1bHQ7XHJcbn1cclxuXHJcbmFzeW5jIGZ1bmN0aW9uIGNyZWF0ZUNhcihjYXIpIHtcclxuICBjb25zdCBwYXJhbXMgPSB7XHJcbiAgICBtZXRob2Q6ICdQT1NUJyxcclxuICAgIGhlYWRlcnM6IHtcclxuICAgICAgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJyxcclxuICAgIH0sXHJcbiAgICBib2R5OiBKU09OLnN0cmluZ2lmeShjYXIpLFxyXG4gIH07XHJcbiAgY29uc3QgcmVzdWx0ID0gYXdhaXQgc2VuZFJlcXVlc3QoJ2dhcmFnZScsIG51bGwsIHBhcmFtcyk7XHJcbiAgcmV0dXJuIHJlc3VsdDtcclxufVxyXG5cclxuYXN5bmMgZnVuY3Rpb24gdXBkYXRlQ2FyKHsgaWQsIG5hbWUsIGNvbG9yIH0pIHtcclxuICBjb25zdCBwYXJhbXMgPSB7XHJcbiAgICBtZXRob2Q6ICdQVVQnLFxyXG4gICAgaGVhZGVyczoge1xyXG4gICAgICAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nLFxyXG4gICAgfSxcclxuICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHsgbmFtZSwgY29sb3IgfSksXHJcbiAgfTtcclxuICBjb25zdCByZXN1bHQgPSBhd2FpdCBzZW5kUmVxdWVzdChgZ2FyYWdlLyR7aWR9YCwgbnVsbCwgcGFyYW1zKVxyXG4gICAgLmNhdGNoKChlcnJvcikgPT4ge1xyXG4gICAgICBzd2l0Y2ggKGVycm9yLm1lc3NhZ2UpIHtcclxuICAgICAgICBjYXNlICc0MDQnOiByZXR1cm4geyBzdGF0dXM6ICdub3QgZm91bmQnIH07XHJcbiAgICAgICAgZGVmYXVsdDogcmV0dXJuIHsgc3RhdHVzOiAndW5rbm93biBlcnJvcicgfTtcclxuICAgICAgfVxyXG4gICAgfSk7XHJcbiAgcmV0dXJuIHJlc3VsdDtcclxufVxyXG5cclxuYXN5bmMgZnVuY3Rpb24gZGVsZXRlQ2FyKGlkKSB7XHJcbiAgY29uc3QgcmVzdWx0ID0gYXdhaXQgc2VuZFJlcXVlc3QoYGdhcmFnZS8ke2lkfWAsIG51bGwsIHsgbWV0aG9kOiAnREVMRVRFJyB9KVxyXG4gICAgLmNhdGNoKChlcnJvcikgPT4ge1xyXG4gICAgICBzd2l0Y2ggKGVycm9yLm1lc3NhZ2UpIHtcclxuICAgICAgICBjYXNlICc0MDQnOiByZXR1cm4geyBzdGF0dXM6ICdub3QgZm91bmQnIH07XHJcbiAgICAgICAgZGVmYXVsdDogcmV0dXJuIHsgc3RhdHVzOiAndW5rbm93biBlcnJvcicgfTtcclxuICAgICAgfVxyXG4gICAgfSk7XHJcbiAgcmV0dXJuIHJlc3VsdDtcclxufVxyXG5cclxuYXN5bmMgZnVuY3Rpb24gc3RhcnRTdG9wQ2FyKGlkLCBzdGF0dXMpIHtcclxuICBjb25zdCByZXN1bHQgPSBhd2FpdCBzZW5kUmVxdWVzdCgnZW5naW5lJywgeyBpZCwgc3RhdHVzIH0sIHsgbWV0aG9kOiAnUEFUQ0gnIH0pXHJcbiAgICAuY2F0Y2goKGVycm9yKSA9PiB7XHJcbiAgICAgIHN3aXRjaCAoZXJyb3IubWVzc2FnZSkge1xyXG4gICAgICAgIGNhc2UgJzQwMCc6IHJldHVybiB7IHN0YXR1czogJ2ludmFsaWQgc3RhdHVzJyB9O1xyXG4gICAgICAgIGNhc2UgJzQwNCc6IHJldHVybiB7IHN0YXR1czogJ25vdCBmb3VuZCcgfTtcclxuICAgICAgICBkZWZhdWx0OiByZXR1cm4geyBzdGF0dXM6ICd1bmtub3duIGVycm9yJyB9O1xyXG4gICAgICB9XHJcbiAgICB9KTtcclxuICByZXR1cm4gcmVzdWx0O1xyXG59XHJcblxyXG5hc3luYyBmdW5jdGlvbiBzdGFydENhcihpZCkge1xyXG4gIGNvbnN0IHJlc3VsdCA9IGF3YWl0IHN0YXJ0U3RvcENhcihpZCwgJ3N0YXJ0ZWQnKTtcclxuICByZXR1cm4gcmVzdWx0O1xyXG59XHJcblxyXG5hc3luYyBmdW5jdGlvbiBzdG9wQ2FyKGlkKSB7XHJcbiAgY29uc3QgcmVzdWx0ID0gYXdhaXQgc3RhcnRTdG9wQ2FyKGlkLCAnc3RvcHBlZCcpO1xyXG4gIHJldHVybiByZXN1bHQ7XHJcbn1cclxuXHJcbmFzeW5jIGZ1bmN0aW9uIGRyaXZlQ2FyKGlkKSB7XHJcbiAgY29uc3QgcmVzdWx0ID0gYXdhaXQgc2VuZFJlcXVlc3QoJ2VuZ2luZScsIHsgaWQsIHN0YXR1czogJ2RyaXZlJyB9LCB7IG1ldGhvZDogJ1BBVENIJyB9KVxyXG4gICAgLnRoZW4oKCkgPT4gKHsgc3RhdHVzOiAnZmluaXNoZWQnIH0pKVxyXG4gICAgLmNhdGNoKChlcnJvcikgPT4ge1xyXG4gICAgICBzd2l0Y2ggKGVycm9yLm1lc3NhZ2UpIHtcclxuICAgICAgICBjYXNlICc0OTknOiByZXR1cm4geyBzdGF0dXM6ICdicm9rZW4nIH07XHJcbiAgICAgICAgY2FzZSAnNDI5JzogcmV0dXJuIHsgc3RhdHVzOiAnaWdub3JlJyB9O1xyXG4gICAgICAgIGNhc2UgJzQwNCc6IHJldHVybiB7IHN0YXR1czogJ25vdCBmb3VuZCcgfTtcclxuICAgICAgICBkZWZhdWx0OiByZXR1cm4geyBzdGF0dXM6ICd1bmtub3duIGVycm9yJyB9O1xyXG4gICAgICB9XHJcbiAgICB9KTtcclxuICByZXR1cm4gcmVzdWx0O1xyXG59XHJcblxyXG5hc3luYyBmdW5jdGlvbiBnZXRBbGxXaW5uZXJzKCkge1xyXG4gIGNvbnN0IHJlc3VsdCA9IGF3YWl0IHNlbmRSZXF1ZXN0KCd3aW5uZXJzJyk7XHJcbiAgcmV0dXJuIHJlc3VsdDtcclxufVxyXG5cclxuYXN5bmMgZnVuY3Rpb24gZ2V0V2lubmVycyhwYWdlLCB3aW5uZXJzQ2Fyc09uUGFnZSkge1xyXG4gIGNvbnN0IHJlc3VsdCA9IGF3YWl0IHNlbmRQYWdlUmVxdWVzdCgnd2lubmVycycsIHsgX3BhZ2U6IHBhZ2UsIF9saW1pdDogd2lubmVyc0NhcnNPblBhZ2UgfSk7XHJcbiAgcmV0dXJuIHJlc3VsdDtcclxufVxyXG5cclxuYXN5bmMgZnVuY3Rpb24gZ2V0U29ydFdpbm5lcnMocGFnZSwgd2lubmVyc0NhcnNPblBhZ2UsIHsgc29ydFBhcmFtLCBzb3J0T3JkZXIgfSkge1xyXG4gIGNvbnN0IHJlc3VsdCA9IGF3YWl0IHNlbmRQYWdlUmVxdWVzdCgnd2lubmVycycsIHtcclxuICAgIF9wYWdlOiBwYWdlLFxyXG4gICAgX2xpbWl0OiB3aW5uZXJzQ2Fyc09uUGFnZSxcclxuICAgIF9zb3J0OiBzb3J0UGFyYW0sXHJcbiAgICBfb3JkZXI6IHNvcnRPcmRlcixcclxuICB9KTtcclxuICByZXR1cm4gcmVzdWx0O1xyXG59XHJcblxyXG5hc3luYyBmdW5jdGlvbiBnZXRXaW5uZXIoaWQpIHtcclxuICBjb25zdCByZXN1bHQgPSBhd2FpdCBzZW5kUmVxdWVzdChgd2lubmVycy8ke2lkfWApXHJcbiAgICAuY2F0Y2goKGVycm9yKSA9PiB7XHJcbiAgICAgIHN3aXRjaCAoZXJyb3IubWVzc2FnZSkge1xyXG4gICAgICAgIGNhc2UgJzQwNCc6IHJldHVybiB7IHN0YXR1czogJ25vdCBmb3VuZCcgfTtcclxuICAgICAgICBkZWZhdWx0OiByZXR1cm4geyBzdGF0dXM6ICd1bmtub3duIGVycm9yJyB9O1xyXG4gICAgICB9XHJcbiAgICB9KTtcclxuICByZXR1cm4gcmVzdWx0O1xyXG59XHJcblxyXG5hc3luYyBmdW5jdGlvbiBkZWxldGVXaW5uZXIoaWQpIHtcclxuICBjb25zdCByZXN1bHQgPSBhd2FpdCBzZW5kUmVxdWVzdChgd2lubmVycy8ke2lkfWAsIG51bGwsIHsgbWV0aG9kOiAnREVMRVRFJyB9KTtcclxuICByZXR1cm4gcmVzdWx0O1xyXG59XHJcblxyXG5hc3luYyBmdW5jdGlvbiBjcmVhdGVXaW5uZXIoeyBpZCwgd2lucywgdGltZSB9KSB7XHJcbiAgY29uc3QgcGFyYW1zID0ge1xyXG4gICAgbWV0aG9kOiAnUE9TVCcsXHJcbiAgICBoZWFkZXJzOiB7XHJcbiAgICAgICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24vanNvbicsXHJcbiAgICB9LFxyXG4gICAgYm9keTogSlNPTi5zdHJpbmdpZnkoeyBpZCwgd2lucywgdGltZSB9KSxcclxuICB9O1xyXG4gIGNvbnN0IHJlc3VsdCA9IGF3YWl0IHNlbmRSZXF1ZXN0KCd3aW5uZXJzJywgbnVsbCwgcGFyYW1zKTtcclxuICByZXR1cm4gcmVzdWx0O1xyXG59XHJcblxyXG5hc3luYyBmdW5jdGlvbiB1cGRhdGVXaW5uZXIoeyBpZCwgd2lucywgdGltZSB9KSB7XHJcbiAgY29uc3QgcGFyYW1zID0ge1xyXG4gICAgbWV0aG9kOiAnUFVUJyxcclxuICAgIGhlYWRlcnM6IHtcclxuICAgICAgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJyxcclxuICAgIH0sXHJcbiAgICBib2R5OiBKU09OLnN0cmluZ2lmeSh7IHdpbnMsIHRpbWUgfSksXHJcbiAgfTtcclxuICBjb25zdCByZXN1bHQgPSBhd2FpdCBzZW5kUmVxdWVzdChgd2lubmVycy8ke2lkfWAsIG51bGwsIHBhcmFtcyk7XHJcbiAgcmV0dXJuIHJlc3VsdDtcclxufVxyXG5cclxuZXhwb3J0IHtcclxuICBnZXRDYXJzLFxyXG4gIGdldENhcixcclxuICBjcmVhdGVDYXIsXHJcbiAgZGVsZXRlQ2FyLFxyXG4gIHVwZGF0ZUNhcixcclxuICBzdGFydENhcixcclxuICBkcml2ZUNhcixcclxuICBzdG9wQ2FyLFxyXG4gIGdldFdpbm5lcnMsXHJcbiAgZ2V0V2lubmVyLFxyXG4gIGRlbGV0ZVdpbm5lcixcclxuICBjcmVhdGVXaW5uZXIsXHJcbiAgdXBkYXRlV2lubmVyLFxyXG4gIGdldFNvcnRXaW5uZXJzLFxyXG4gIGdldEFsbFdpbm5lcnMsXHJcbn07XHJcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./src/modules/api.js\n");

/***/ }),

/***/ "./src/modules/app.js":
/*!****************************!*\
  !*** ./src/modules/app.js ***!
  \****************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _ui__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./ui */ \"./src/modules/ui.js\");\n/* harmony import */ var _api__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./api */ \"./src/modules/api.js\");\n/* harmony import */ var _libs_common__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./libs/common */ \"./src/modules/libs/common.js\");\n\r\n\r\n\r\n\r\nconst generateCarsAmount = 100;\r\nconst maxCarsAmount = 10000;\r\n\r\nclass RaceApp {\r\n  garageCarsOnPage = 7;\r\n\r\n  winnersCarsOnPage = 10;\r\n\r\n  garageCurrentPage = 1;\r\n\r\n  winnersCurrentPage = 1;\r\n\r\n  garagePagesCount = 1;\r\n\r\n  winnersPagesCount = 1;\r\n\r\n  lastDriveRequestStartTime = new Map();\r\n\r\n  runningCars = new Set();\r\n\r\n  deleteCar = async (id) => {\r\n    let result = await _api__WEBPACK_IMPORTED_MODULE_1__.deleteCar(id);\r\n    if (!result.status) {\r\n      this.garageCount -= 1;\r\n      this.garagePagesCount = Math.ceil(this.garageCount / this.garageCarsOnPage) || 1;\r\n      if (this.garagePagesCount < this.garageCurrentPage) {\r\n        this.garageCurrentPage = this.garagePagesCount;\r\n      }\r\n    }\r\n    this.getGarage(this.garageCurrentPage);\r\n    result = await _api__WEBPACK_IMPORTED_MODULE_1__.getAllWinners();\r\n    if (result.find((winner) => winner.id === +id)) {\r\n      result = await _api__WEBPACK_IMPORTED_MODULE_1__.deleteWinner(id).then((response) => {\r\n        if (!response.status) {\r\n          if (!result.status) {\r\n            this.winnersCount -= 1;\r\n            this.winnersPagesCount = Math.ceil(this.winnersCount / this.winnersCarsOnPage) || 1;\r\n            if (this.winnersPagesCount < this.winnersCurrentPage) {\r\n              this.winnersCurrentPage = this.winnersPagesCount;\r\n            }\r\n          }\r\n          this.getSortWinners(this.winnersCurrentPage);\r\n        }\r\n      }).catch(() => {});\r\n    }\r\n  };\r\n\r\n  async getGarage(page) {\r\n    this.lastDriveRequestStartTime.clear();\r\n    const requests = [];\r\n    this.runningCars.forEach((id) => requests.push(this.resetCar(id)));\r\n    await Promise.all(requests);\r\n    const cars = await _api__WEBPACK_IMPORTED_MODULE_1__.getCars(page, this.garageCarsOnPage);\r\n    this.garageCurrentPage = page;\r\n    this.garageCount = +cars.totalCount;\r\n    this.garagePagesCount = Math.ceil(this.garageCount / this.garageCarsOnPage) || 1;\r\n    _ui__WEBPACK_IMPORTED_MODULE_0__.setGarageCount(cars.totalCount);\r\n    _ui__WEBPACK_IMPORTED_MODULE_0__.setGaragePage(page, this.garagePagesCount, cars.carsList);\r\n  }\r\n\r\n  async getSortWinners(page) {\r\n    const cars = await _api__WEBPACK_IMPORTED_MODULE_1__.getSortWinners(\r\n      page,\r\n      this.winnersCarsOnPage,\r\n      _ui__WEBPACK_IMPORTED_MODULE_0__.getWinnersSortSettings(),\r\n    );\r\n    this.winnersCurrentPage = page;\r\n    this.winnersCount = cars.totalCount;\r\n    this.winnersPagesCount = Math.ceil(this.winnersCount / this.winnersCarsOnPage) || 1;\r\n    const requests = [];\r\n    for (let i = 0; i < cars.carsList.length; i += 1) {\r\n      const car = cars.carsList[i];\r\n      requests.push(_api__WEBPACK_IMPORTED_MODULE_1__.getCar(car.id));\r\n    }\r\n    Promise.all(requests)\r\n      .then((responses) => responses.forEach((response, i) => {\r\n        [cars.carsList[i].name, cars.carsList[i].color] = [response.name, response.color];\r\n      }))\r\n      .then(() => {\r\n        _ui__WEBPACK_IMPORTED_MODULE_0__.setWinnersCount(cars.totalCount);\r\n        _ui__WEBPACK_IMPORTED_MODULE_0__.setWinnersPage(page, this.winnersCarsOnPage, this.winnersPagesCount, cars.carsList);\r\n      });\r\n  }\r\n\r\n  // Callbacks\r\n  createCar = async (car) => {\r\n    await _api__WEBPACK_IMPORTED_MODULE_1__.createCar(car);\r\n    await this.getGarage(this.garageCurrentPage);\r\n  };\r\n\r\n  static updateCar = async (car) => {\r\n    const result = await _api__WEBPACK_IMPORTED_MODULE_1__.updateCar(car);\r\n    if (!result.status) {\r\n      _ui__WEBPACK_IMPORTED_MODULE_0__.updateCar(result);\r\n    }\r\n  };\r\n\r\n  garageNextPage = () => this.getGarage(this.garageCurrentPage + 1);\r\n\r\n  garagePreviousPage = () => this.getGarage(this.garageCurrentPage - 1);\r\n\r\n  winnersNextPage = () => {\r\n    this.getSortWinners(this.winnersCurrentPage + 1);\r\n  };\r\n\r\n  winnersPreviousPage = () => {\r\n    this.getSortWinners(this.winnersCurrentPage - 1);\r\n  };\r\n\r\n  getWinners = () => {\r\n    this.getSortWinners(this.winnersCurrentPage);\r\n  };\r\n\r\n  generateCars = async () => {\r\n    if (this.garageCount >= maxCarsAmount) return;\r\n    const requests = [];\r\n    const cars = await (0,_libs_common__WEBPACK_IMPORTED_MODULE_2__.libGenerateCars)(generateCarsAmount);\r\n    let addCount = cars.length;\r\n    if (this.garageCount + addCount >= maxCarsAmount) {\r\n      addCount = maxCarsAmount - this.garageCount;\r\n    }\r\n    for (let i = 0; i < addCount; i += 1) {\r\n      requests.push(_api__WEBPACK_IMPORTED_MODULE_1__.createCar(cars[i]));\r\n    }\r\n    Promise.all(requests).then(() => {\r\n      this.getGarage(this.garageCurrentPage);\r\n    });\r\n  };\r\n\r\n  startCar = async (id) => {\r\n    const startTime = Date.now();\r\n    this.lastDriveRequestStartTime[id] = startTime;\r\n    let result = await _api__WEBPACK_IMPORTED_MODULE_1__.startCar(id);\r\n    this.runningCars.add(id);\r\n\r\n    if (startTime !== this.lastDriveRequestStartTime[id]) {\r\n      return { status: 'ignore' };\r\n    }\r\n    result.id = id;\r\n    if (result.status) return Promise.reject();\r\n    _ui__WEBPACK_IMPORTED_MODULE_0__.driveCar(id, result);\r\n    result = await _api__WEBPACK_IMPORTED_MODULE_1__.driveCar(id);\r\n    if (startTime !== this.lastDriveRequestStartTime[id]) {\r\n      return { status: 'ignore' };\r\n    }\r\n    switch (result.status) {\r\n      case 'finished':\r\n        this.runningCars.delete(id);\r\n        _ui__WEBPACK_IMPORTED_MODULE_0__.stopCar(id);\r\n        break;\r\n      case 'broken':\r\n        this.runningCars.delete(id);\r\n        _ui__WEBPACK_IMPORTED_MODULE_0__.stopCar(id);\r\n        return Promise.reject();\r\n      case 'not found':\r\n        return result;\r\n      default:\r\n    }\r\n    result.id = id;\r\n    return result;\r\n  };\r\n\r\n  startCarCallback = (id) => this.startCar(id).catch(() => {});\r\n\r\n  resetCar = async (id) => {\r\n    const result = await _api__WEBPACK_IMPORTED_MODULE_1__.stopCar(id);\r\n    this.runningCars.delete(id);\r\n    if (result.status) return;\r\n    if (+result.velocity === 0) {\r\n      this.lastDriveRequestStartTime[id] = 0;\r\n      _ui__WEBPACK_IMPORTED_MODULE_0__.resetCar(id);\r\n    }\r\n  };\r\n\r\n  startRace = async (carsIds) => {\r\n    const requests = [];\r\n    _ui__WEBPACK_IMPORTED_MODULE_0__.runStopwatch();\r\n    carsIds.forEach((id) => requests.push(this.startCar(id)));\r\n    let winner;\r\n    try {\r\n      winner = await Promise.any(requests)\r\n        .then((response) => response)\r\n        .catch(() => {\r\n          throw new Error('All cars are broken!');\r\n        });\r\n      if (winner.status === 'ignore') return;\r\n      if (winner.status === 'not found') throw new Error('Fail! Restart race!');\r\n    } catch (error) {\r\n      _ui__WEBPACK_IMPORTED_MODULE_0__.stopStopwatch();\r\n      _ui__WEBPACK_IMPORTED_MODULE_0__.showRaceFailPopup(error.message);\r\n      return;\r\n    }\r\n    winner.time = _ui__WEBPACK_IMPORTED_MODULE_0__.stopStopwatch();\r\n    _ui__WEBPACK_IMPORTED_MODULE_0__.showWinnerPopup(winner);\r\n    let result = await _api__WEBPACK_IMPORTED_MODULE_1__.getWinner(winner.id);\r\n    const setValue = { id: winner.id, wins: 1, time: winner.time.toFixed(2) };\r\n    if (result.status === 'not found') {\r\n      result = await _api__WEBPACK_IMPORTED_MODULE_1__.createWinner(setValue);\r\n    } else {\r\n      setValue.wins = result.wins + 1;\r\n      const savedTime = +result.time;\r\n      if (savedTime < winner.time) {\r\n        setValue.time = savedTime.toFixed(2);\r\n      }\r\n      result = await _api__WEBPACK_IMPORTED_MODULE_1__.updateWinner(setValue);\r\n    }\r\n    this.getWinners();\r\n  };\r\n\r\n  resetRace = async (carsIds) => {\r\n    const requests = [];\r\n    carsIds.forEach((id) => requests.push(this.resetCar(id)));\r\n    await Promise.all(requests);\r\n  };\r\n\r\n  setCallbacks() {\r\n    _ui__WEBPACK_IMPORTED_MODULE_0__.setCallbacks(\r\n      this.createCar,\r\n      RaceApp.updateCar,\r\n      this.deleteCar,\r\n      this.garagePreviousPage,\r\n      this.garageNextPage,\r\n      this.winnersPreviousPage,\r\n      this.winnersNextPage,\r\n      this.getWinners,\r\n      this.generateCars,\r\n      this.startCarCallback,\r\n      this.resetCar,\r\n      this.startRace,\r\n      this.resetRace,\r\n    );\r\n  }\r\n\r\n  async start() {\r\n    _ui__WEBPACK_IMPORTED_MODULE_0__.initUi();\r\n    this.setCallbacks();\r\n    await this.getGarage(1);\r\n    await this.getSortWinners(1, _ui__WEBPACK_IMPORTED_MODULE_0__.getWinnersSortSettings());\r\n  }\r\n}\r\n\r\nconst raceApp = new RaceApp();\r\nraceApp.start();\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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YjtBQUNBO0FBQ0EsaUNBQWlDLHVEQUF5QjtBQUMxRDtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vYXN5bmMtcmFjZS8uL3NyYy9tb2R1bGVzL2FwcC5qcz9lZGIxIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCAqIGFzIHVpIGZyb20gJy4vdWknO1xyXG5pbXBvcnQgKiBhcyBhcGkgZnJvbSAnLi9hcGknO1xyXG5pbXBvcnQgeyBsaWJHZW5lcmF0ZUNhcnMgfSBmcm9tICcuL2xpYnMvY29tbW9uJztcclxuXHJcbmNvbnN0IGdlbmVyYXRlQ2Fyc0Ftb3VudCA9IDEwMDtcclxuY29uc3QgbWF4Q2Fyc0Ftb3VudCA9IDEwMDAwO1xyXG5cclxuY2xhc3MgUmFjZUFwcCB7XHJcbiAgZ2FyYWdlQ2Fyc09uUGFnZSA9IDc7XHJcblxyXG4gIHdpbm5lcnNDYXJzT25QYWdlID0gMTA7XHJcblxyXG4gIGdhcmFnZUN1cnJlbnRQYWdlID0gMTtcclxuXHJcbiAgd2lubmVyc0N1cnJlbnRQYWdlID0gMTtcclxuXHJcbiAgZ2FyYWdlUGFnZXNDb3VudCA9IDE7XHJcblxyXG4gIHdpbm5lcnNQYWdlc0NvdW50ID0gMTtcclxuXHJcbiAgbGFzdERyaXZlUmVxdWVzdFN0YXJ0VGltZSA9IG5ldyBNYXAoKTtcclxuXHJcbiAgcnVubmluZ0NhcnMgPSBuZXcgU2V0KCk7XHJcblxyXG4gIGRlbGV0ZUNhciA9IGFzeW5jIChpZCkgPT4ge1xyXG4gICAgbGV0IHJlc3VsdCA9IGF3YWl0IGFwaS5kZWxldGVDYXIoaWQpO1xyXG4gICAgaWYgKCFyZXN1bHQuc3RhdHVzKSB7XHJcbiAgICAgIHRoaXMuZ2FyYWdlQ291bnQgLT0gMTtcclxuICAgICAgdGhpcy5nYXJhZ2VQYWdlc0NvdW50ID0gTWF0aC5jZWlsKHRoaXMuZ2FyYWdlQ291bnQgLyB0aGlzLmdhcmFnZUNhcnNPblBhZ2UpIHx8IDE7XHJcbiAgICAgIGlmICh0aGlzLmdhcmFnZVBhZ2VzQ291bnQgPCB0aGlzLmdhcmFnZUN1cnJlbnRQYWdlKSB7XHJcbiAgICAgICAgdGhpcy5nYXJhZ2VDdXJyZW50UGFnZSA9IHRoaXMuZ2FyYWdlUGFnZXNDb3VudDtcclxuICAgICAgfVxyXG4gICAgfVxyXG4gICAgdGhpcy5nZXRHYXJhZ2UodGhpcy5nYXJhZ2VDdXJyZW50UGFnZSk7XHJcbiAgICByZXN1bHQgPSBhd2FpdCBhcGkuZ2V0QWxsV2lubmVycygpO1xyXG4gICAgaWYgKHJlc3VsdC5maW5kKCh3aW5uZXIpID0+IHdpbm5lci5pZCA9PT0gK2lkKSkge1xyXG4gICAgICByZXN1bHQgPSBhd2FpdCBhcGkuZGVsZXRlV2lubmVyKGlkKS50aGVuKChyZXNwb25zZSkgPT4ge1xyXG4gICAgICAgIGlmICghcmVzcG9uc2Uuc3RhdHVzKSB7XHJcbiAgICAgICAgICBpZiAoIXJlc3VsdC5zdGF0dXMpIHtcclxuICAgICAgICAgICAgdGhpcy53aW5uZXJzQ291bnQgLT0gMTtcclxuICAgICAgICAgICAgdGhpcy53aW5uZXJzUGFnZXNDb3VudCA9IE1hdGguY2VpbCh0aGlzLndpbm5lcnNDb3VudCAvIHRoaXMud2lubmVyc0NhcnNPblBhZ2UpIHx8IDE7XHJcbiAgICAgICAgICAgIGlmICh0aGlzLndpbm5lcnNQYWdlc0NvdW50IDwgdGhpcy53aW5uZXJzQ3VycmVudFBhZ2UpIHtcclxuICAgICAgICAgICAgICB0aGlzLndpbm5lcnNDdXJyZW50UGFnZSA9IHRoaXMud2lubmVyc1BhZ2VzQ291bnQ7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgIH1cclxuICAgICAgICAgIHRoaXMuZ2V0U29ydFdpbm5lcnModGhpcy53aW5uZXJzQ3VycmVudFBhZ2UpO1xyXG4gICAgICAgIH1cclxuICAgICAgfSkuY2F0Y2goKCkgPT4ge30pO1xyXG4gICAgfVxyXG4gIH07XHJcblxyXG4gIGFzeW5jIGdldEdhcmFnZShwYWdlKSB7XHJcbiAgICB0aGlzLmxhc3REcml2ZVJlcXVlc3RTdGFydFRpbWUuY2xlYXIoKTtcclxuICAgIGNvbnN0IHJlcXVlc3RzID0gW107XHJcbiAgICB0aGlzLnJ1bm5pbmdDYXJzLmZvckVhY2goKGlkKSA9PiByZXF1ZXN0cy5wdXNoKHRoaXMucmVzZXRDYXIoaWQpKSk7XHJcbiAgICBhd2FpdCBQcm9taXNlLmFsbChyZXF1ZXN0cyk7XHJcbiAgICBjb25zdCBjYXJzID0gYXdhaXQgYXBpLmdldENhcnMocGFnZSwgdGhpcy5nYXJhZ2VDYXJzT25QYWdlKTtcclxuICAgIHRoaXMuZ2FyYWdlQ3VycmVudFBhZ2UgPSBwYWdlO1xyXG4gICAgdGhpcy5nYXJhZ2VDb3VudCA9ICtjYXJzLnRvdGFsQ291bnQ7XHJcbiAgICB0aGlzLmdhcmFnZVBhZ2VzQ291bnQgPSBNYXRoLmNlaWwodGhpcy5nYXJhZ2VDb3VudCAvIHRoaXMuZ2FyYWdlQ2Fyc09uUGFnZSkgfHwgMTtcclxuICAgIHVpLnNldEdhcmFnZUNvdW50KGNhcnMudG90YWxDb3VudCk7XHJcbiAgICB1aS5zZXRHYXJhZ2VQYWdlKHBhZ2UsIHRoaXMuZ2FyYWdlUGFnZXNDb3VudCwgY2Fycy5jYXJzTGlzdCk7XHJcbiAgfVxyXG5cclxuICBhc3luYyBnZXRTb3J0V2lubmVycyhwYWdlKSB7XHJcbiAgICBjb25zdCBjYXJzID0gYXdhaXQgYXBpLmdldFNvcnRXaW5uZXJzKFxyXG4gICAgICBwYWdlLFxyXG4gICAgICB0aGlzLndpbm5lcnNDYXJzT25QYWdlLFxyXG4gICAgICB1aS5nZXRXaW5uZXJzU29ydFNldHRpbmdzKCksXHJcbiAgICApO1xyXG4gICAgdGhpcy53aW5uZXJzQ3VycmVudFBhZ2UgPSBwYWdlO1xyXG4gICAgdGhpcy53aW5uZXJzQ291bnQgPSBjYXJzLnRvdGFsQ291bnQ7XHJcbiAgICB0aGlzLndpbm5lcnNQYWdlc0NvdW50ID0gTWF0aC5jZWlsKHRoaXMud2lubmVyc0NvdW50IC8gdGhpcy53aW5uZXJzQ2Fyc09uUGFnZSkgfHwgMTtcclxuICAgIGNvbnN0IHJlcXVlc3RzID0gW107XHJcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IGNhcnMuY2Fyc0xpc3QubGVuZ3RoOyBpICs9IDEpIHtcclxuICAgICAgY29uc3QgY2FyID0gY2Fycy5jYXJzTGlzdFtpXTtcclxuICAgICAgcmVxdWVzdHMucHVzaChhcGkuZ2V0Q2FyKGNhci5pZCkpO1xyXG4gICAgfVxyXG4gICAgUHJvbWlzZS5hbGwocmVxdWVzdHMpXHJcbiAgICAgIC50aGVuKChyZXNwb25zZXMpID0+IHJlc3BvbnNlcy5mb3JFYWNoKChyZXNwb25zZSwgaSkgPT4ge1xyXG4gICAgICAgIFtjYXJzLmNhcnNMaXN0W2ldLm5hbWUsIGNhcnMuY2Fyc0xpc3RbaV0uY29sb3JdID0gW3Jlc3BvbnNlLm5hbWUsIHJlc3BvbnNlLmNvbG9yXTtcclxuICAgICAgfSkpXHJcbiAgICAgIC50aGVuKCgpID0+IHtcclxuICAgICAgICB1aS5zZXRXaW5uZXJzQ291bnQoY2Fycy50b3RhbENvdW50KTtcclxuICAgICAgICB1aS5zZXRXaW5uZXJzUGFnZShwYWdlLCB0aGlzLndpbm5lcnNDYXJzT25QYWdlLCB0aGlzLndpbm5lcnNQYWdlc0NvdW50LCBjYXJzLmNhcnNMaXN0KTtcclxuICAgICAgfSk7XHJcbiAgfVxyXG5cclxuICAvLyBDYWxsYmFja3NcclxuICBjcmVhdGVDYXIgPSBhc3luYyAoY2FyKSA9PiB7XHJcbiAgICBhd2FpdCBhcGkuY3JlYXRlQ2FyKGNhcik7XHJcbiAgICBhd2FpdCB0aGlzLmdldEdhcmFnZSh0aGlzLmdhcmFnZUN1cnJlbnRQYWdlKTtcclxuICB9O1xyXG5cclxuICBzdGF0aWMgdXBkYXRlQ2FyID0gYXN5bmMgKGNhcikgPT4ge1xyXG4gICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgYXBpLnVwZGF0ZUNhcihjYXIpO1xyXG4gICAgaWYgKCFyZXN1bHQuc3RhdHVzKSB7XHJcbiAgICAgIHVpLnVwZGF0ZUNhcihyZXN1bHQpO1xyXG4gICAgfVxyXG4gIH07XHJcblxyXG4gIGdhcmFnZU5leHRQYWdlID0gKCkgPT4gdGhpcy5nZXRHYXJhZ2UodGhpcy5nYXJhZ2VDdXJyZW50UGFnZSArIDEpO1xyXG5cclxuICBnYXJhZ2VQcmV2aW91c1BhZ2UgPSAoKSA9PiB0aGlzLmdldEdhcmFnZSh0aGlzLmdhcmFnZUN1cnJlbnRQYWdlIC0gMSk7XHJcblxyXG4gIHdpbm5lcnNOZXh0UGFnZSA9ICgpID0+IHtcclxuICAgIHRoaXMuZ2V0U29ydFdpbm5lcnModGhpcy53aW5uZXJzQ3VycmVudFBhZ2UgKyAxKTtcclxuICB9O1xyXG5cclxuICB3aW5uZXJzUHJldmlvdXNQYWdlID0gKCkgPT4ge1xyXG4gICAgdGhpcy5nZXRTb3J0V2lubmVycyh0aGlzLndpbm5lcnNDdXJyZW50UGFnZSAtIDEpO1xyXG4gIH07XHJcblxyXG4gIGdldFdpbm5lcnMgPSAoKSA9PiB7XHJcbiAgICB0aGlzLmdldFNvcnRXaW5uZXJzKHRoaXMud2lubmVyc0N1cnJlbnRQYWdlKTtcclxuICB9O1xyXG5cclxuICBnZW5lcmF0ZUNhcnMgPSBhc3luYyAoKSA9PiB7XHJcbiAgICBpZiAodGhpcy5nYXJhZ2VDb3VudCA+PSBtYXhDYXJzQW1vdW50KSByZXR1cm47XHJcbiAgICBjb25zdCByZXF1ZXN0cyA9IFtdO1xyXG4gICAgY29uc3QgY2FycyA9IGF3YWl0IGxpYkdlbmVyYXRlQ2FycyhnZW5lcmF0ZUNhcnNBbW91bnQpO1xyXG4gICAgbGV0IGFkZENvdW50ID0gY2Fycy5sZW5ndGg7XHJcbiAgICBpZiAodGhpcy5nYXJhZ2VDb3VudCArIGFkZENvdW50ID49IG1heENhcnNBbW91bnQpIHtcclxuICAgICAgYWRkQ291bnQgPSBtYXhDYXJzQW1vdW50IC0gdGhpcy5nYXJhZ2VDb3VudDtcclxuICAgIH1cclxuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgYWRkQ291bnQ7IGkgKz0gMSkge1xyXG4gICAgICByZXF1ZXN0cy5wdXNoKGFwaS5jcmVhdGVDYXIoY2Fyc1tpXSkpO1xyXG4gICAgfVxyXG4gICAgUHJvbWlzZS5hbGwocmVxdWVzdHMpLnRoZW4oKCkgPT4ge1xyXG4gICAgICB0aGlzLmdldEdhcmFnZSh0aGlzLmdhcmFnZUN1cnJlbnRQYWdlKTtcclxuICAgIH0pO1xyXG4gIH07XHJcblxyXG4gIHN0YXJ0Q2FyID0gYXN5bmMgKGlkKSA9PiB7XHJcbiAgICBjb25zdCBzdGFydFRpbWUgPSBEYXRlLm5vdygpO1xyXG4gICAgdGhpcy5sYXN0RHJpdmVSZXF1ZXN0U3RhcnRUaW1lW2lkXSA9IHN0YXJ0VGltZTtcclxuICAgIGxldCByZXN1bHQgPSBhd2FpdCBhcGkuc3RhcnRDYXIoaWQpO1xyXG4gICAgdGhpcy5ydW5uaW5nQ2Fycy5hZGQoaWQpO1xyXG5cclxuICAgIGlmIChzdGFydFRpbWUgIT09IHRoaXMubGFzdERyaXZlUmVxdWVzdFN0YXJ0VGltZVtpZF0pIHtcclxuICAgICAgcmV0dXJuIHsgc3RhdHVzOiAnaWdub3JlJyB9O1xyXG4gICAgfVxyXG4gICAgcmVzdWx0LmlkID0gaWQ7XHJcbiAgICBpZiAocmVzdWx0LnN0YXR1cykgcmV0dXJuIFByb21pc2UucmVqZWN0KCk7XHJcbiAgICB1aS5kcml2ZUNhcihpZCwgcmVzdWx0KTtcclxuICAgIHJlc3VsdCA9IGF3YWl0IGFwaS5kcml2ZUNhcihpZCk7XHJcbiAgICBpZiAoc3RhcnRUaW1lICE9PSB0aGlzLmxhc3REcml2ZVJlcXVlc3RTdGFydFRpbWVbaWRdKSB7XHJcbiAgICAgIHJldHVybiB7IHN0YXR1czogJ2lnbm9yZScgfTtcclxuICAgIH1cclxuICAgIHN3aXRjaCAocmVzdWx0LnN0YXR1cykge1xyXG4gICAgICBjYXNlICdmaW5pc2hlZCc6XHJcbiAgICAgICAgdGhpcy5ydW5uaW5nQ2Fycy5kZWxldGUoaWQpO1xyXG4gICAgICAgIHVpLnN0b3BDYXIoaWQpO1xyXG4gICAgICAgIGJyZWFrO1xyXG4gICAgICBjYXNlICdicm9rZW4nOlxyXG4gICAgICAgIHRoaXMucnVubmluZ0NhcnMuZGVsZXRlKGlkKTtcclxuICAgICAgICB1aS5zdG9wQ2FyKGlkKTtcclxuICAgICAgICByZXR1cm4gUHJvbWlzZS5yZWplY3QoKTtcclxuICAgICAgY2FzZSAnbm90IGZvdW5kJzpcclxuICAgICAgICByZXR1cm4gcmVzdWx0O1xyXG4gICAgICBkZWZhdWx0OlxyXG4gICAgfVxyXG4gICAgcmVzdWx0LmlkID0gaWQ7XHJcbiAgICByZXR1cm4gcmVzdWx0O1xyXG4gIH07XHJcblxyXG4gIHN0YXJ0Q2FyQ2FsbGJhY2sgPSAoaWQpID0+IHRoaXMuc3RhcnRDYXIoaWQpLmNhdGNoKCgpID0+IHt9KTtcclxuXHJcbiAgcmVzZXRDYXIgPSBhc3luYyAoaWQpID0+IHtcclxuICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IGFwaS5zdG9wQ2FyKGlkKTtcclxuICAgIHRoaXMucnVubmluZ0NhcnMuZGVsZXRlKGlkKTtcclxuICAgIGlmIChyZXN1bHQuc3RhdHVzKSByZXR1cm47XHJcbiAgICBpZiAoK3Jlc3VsdC52ZWxvY2l0eSA9PT0gMCkge1xyXG4gICAgICB0aGlzLmxhc3REcml2ZVJlcXVlc3RTdGFydFRpbWVbaWRdID0gMDtcclxuICAgICAgdWkucmVzZXRDYXIoaWQpO1xyXG4gICAgfVxyXG4gIH07XHJcblxyXG4gIHN0YXJ0UmFjZSA9IGFzeW5jIChjYXJzSWRzKSA9PiB7XHJcbiAgICBjb25zdCByZXF1ZXN0cyA9IFtdO1xyXG4gICAgdWkucnVuU3RvcHdhdGNoKCk7XHJcbiAgICBjYXJzSWRzLmZvckVhY2goKGlkKSA9PiByZXF1ZXN0cy5wdXNoKHRoaXMuc3RhcnRDYXIoaWQpKSk7XHJcbiAgICBsZXQgd2lubmVyO1xyXG4gICAgdHJ5IHtcclxuICAgICAgd2lubmVyID0gYXdhaXQgUHJvbWlzZS5hbnkocmVxdWVzdHMpXHJcbiAgICAgICAgLnRoZW4oKHJlc3BvbnNlKSA9PiByZXNwb25zZSlcclxuICAgICAgICAuY2F0Y2goKCkgPT4ge1xyXG4gICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdBbGwgY2FycyBhcmUgYnJva2VuIScpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICBpZiAod2lubmVyLnN0YXR1cyA9PT0gJ2lnbm9yZScpIHJldHVybjtcclxuICAgICAgaWYgKHdpbm5lci5zdGF0dXMgPT09ICdub3QgZm91bmQnKSB0aHJvdyBuZXcgRXJyb3IoJ0ZhaWwhIFJlc3RhcnQgcmFjZSEnKTtcclxuICAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgIHVpLnN0b3BTdG9wd2F0Y2goKTtcclxuICAgICAgdWkuc2hvd1JhY2VGYWlsUG9wdXAoZXJyb3IubWVzc2FnZSk7XHJcbiAgICAgIHJldHVybjtcclxuICAgIH1cclxuICAgIHdpbm5lci50aW1lID0gdWkuc3RvcFN0b3B3YXRjaCgpO1xyXG4gICAgdWkuc2hvd1dpbm5lclBvcHVwKHdpbm5lcik7XHJcbiAgICBsZXQgcmVzdWx0ID0gYXdhaXQgYXBpLmdldFdpbm5lcih3aW5uZXIuaWQpO1xyXG4gICAgY29uc3Qgc2V0VmFsdWUgPSB7IGlkOiB3aW5uZXIuaWQsIHdpbnM6IDEsIHRpbWU6IHdpbm5lci50aW1lLnRvRml4ZWQoMikgfTtcclxuICAgIGlmIChyZXN1bHQuc3RhdHVzID09PSAnbm90IGZvdW5kJykge1xyXG4gICAgICByZXN1bHQgPSBhd2FpdCBhcGkuY3JlYXRlV2lubmVyKHNldFZhbHVlKTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIHNldFZhbHVlLndpbnMgPSByZXN1bHQud2lucyArIDE7XHJcbiAgICAgIGNvbnN0IHNhdmVkVGltZSA9ICtyZXN1bHQudGltZTtcclxuICAgICAgaWYgKHNhdmVkVGltZSA8IHdpbm5lci50aW1lKSB7XHJcbiAgICAgICAgc2V0VmFsdWUudGltZSA9IHNhdmVkVGltZS50b0ZpeGVkKDIpO1xyXG4gICAgICB9XHJcbiAgICAgIHJlc3VsdCA9IGF3YWl0IGFwaS51cGRhdGVXaW5uZXIoc2V0VmFsdWUpO1xyXG4gICAgfVxyXG4gICAgdGhpcy5nZXRXaW5uZXJzKCk7XHJcbiAgfTtcclxuXHJcbiAgcmVzZXRSYWNlID0gYXN5bmMgKGNhcnNJZHMpID0+IHtcclxuICAgIGNvbnN0IHJlcXVlc3RzID0gW107XHJcbiAgICBjYXJzSWRzLmZvckVhY2goKGlkKSA9PiByZXF1ZXN0cy5wdXNoKHRoaXMucmVzZXRDYXIoaWQpKSk7XHJcbiAgICBhd2FpdCBQcm9taXNlLmFsbChyZXF1ZXN0cyk7XHJcbiAgfTtcclxuXHJcbiAgc2V0Q2FsbGJhY2tzKCkge1xyXG4gICAgdWkuc2V0Q2FsbGJhY2tzKFxyXG4gICAgICB0aGlzLmNyZWF0ZUNhcixcclxuICAgICAgUmFjZUFwcC51cGRhdGVDYXIsXHJcbiAgICAgIHRoaXMuZGVsZXRlQ2FyLFxyXG4gICAgICB0aGlzLmdhcmFnZVByZXZpb3VzUGFnZSxcclxuICAgICAgdGhpcy5nYXJhZ2VOZXh0UGFnZSxcclxuICAgICAgdGhpcy53aW5uZXJzUHJldmlvdXNQYWdlLFxyXG4gICAgICB0aGlzLndpbm5lcnNOZXh0UGFnZSxcclxuICAgICAgdGhpcy5nZXRXaW5uZXJzLFxyXG4gICAgICB0aGlzLmdlbmVyYXRlQ2FycyxcclxuICAgICAgdGhpcy5zdGFydENhckNhbGxiYWNrLFxyXG4gICAgICB0aGlzLnJlc2V0Q2FyLFxyXG4gICAgICB0aGlzLnN0YXJ0UmFjZSxcclxuICAgICAgdGhpcy5yZXNldFJhY2UsXHJcbiAgICApO1xyXG4gIH1cclxuXHJcbiAgYXN5bmMgc3RhcnQoKSB7XHJcbiAgICB1aS5pbml0VWkoKTtcclxuICAgIHRoaXMuc2V0Q2FsbGJhY2tzKCk7XHJcbiAgICBhd2FpdCB0aGlzLmdldEdhcmFnZSgxKTtcclxuICAgIGF3YWl0IHRoaXMuZ2V0U29ydFdpbm5lcnMoMSwgdWkuZ2V0V2lubmVyc1NvcnRTZXR0aW5ncygpKTtcclxuICB9XHJcbn1cclxuXHJcbmNvbnN0IHJhY2VBcHAgPSBuZXcgUmFjZUFwcCgpO1xyXG5yYWNlQXBwLnN0YXJ0KCk7XHJcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./src/modules/app.js\n");

/***/ }),

/***/ "./src/modules/components/stopwatch.js":
/*!*********************************************!*\
  !*** ./src/modules/components/stopwatch.js ***!
  \*********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ Stopwatch)\n/* harmony export */ });\nclass Stopwatch extends HTMLElement {\r\n  value = 0;\r\n\r\n  connectedCallback() {\r\n    this.setAttribute('state', 'reset');\r\n    this.reset();\r\n    this.render();\r\n  }\r\n\r\n  static get observedAttributes() {\r\n    return ['state'];\r\n  }\r\n\r\n  reset() {\r\n    this.value = 0;\r\n  }\r\n\r\n  stopTimer() {\r\n    if (this.timerId) {\r\n      clearInterval(this.timerId);\r\n      delete this.timerId;\r\n    }\r\n  }\r\n\r\n  attributeChangedCallback(name, oldValue, newValue) {\r\n    if (name === 'state') {\r\n      switch (newValue) {\r\n        case 'reset':\r\n          this.stopTimer();\r\n          this.reset();\r\n          break;\r\n        case 'run':\r\n          this.timerId = setInterval(() => {\r\n            this.value += 1;\r\n            this.render();\r\n          }, 10);\r\n          break;\r\n        case 'stop':\r\n          this.stopTimer();\r\n          break;\r\n        default:\r\n      }\r\n    }\r\n    this.render();\r\n  }\r\n\r\n  render() {\r\n    const result = (`000${this.value}`).split('');\r\n    result.splice(-2, 0, '.');\r\n    this.innerHTML = result.slice(-5).join('');\r\n  }\r\n}\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvbW9kdWxlcy9jb21wb25lbnRzL3N0b3B3YXRjaC5qcy5qcyIsIm1hcHBpbmdzIjoiOzs7O0FBQWU7QUFDZjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVc7QUFDWDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsMEJBQTBCLFdBQVc7QUFDckM7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9hc3luYy1yYWNlLy4vc3JjL21vZHVsZXMvY29tcG9uZW50cy9zdG9wd2F0Y2guanM/NTUwZCJdLCJzb3VyY2VzQ29udGVudCI6WyJleHBvcnQgZGVmYXVsdCBjbGFzcyBTdG9wd2F0Y2ggZXh0ZW5kcyBIVE1MRWxlbWVudCB7XHJcbiAgdmFsdWUgPSAwO1xyXG5cclxuICBjb25uZWN0ZWRDYWxsYmFjaygpIHtcclxuICAgIHRoaXMuc2V0QXR0cmlidXRlKCdzdGF0ZScsICdyZXNldCcpO1xyXG4gICAgdGhpcy5yZXNldCgpO1xyXG4gICAgdGhpcy5yZW5kZXIoKTtcclxuICB9XHJcblxyXG4gIHN0YXRpYyBnZXQgb2JzZXJ2ZWRBdHRyaWJ1dGVzKCkge1xyXG4gICAgcmV0dXJuIFsnc3RhdGUnXTtcclxuICB9XHJcblxyXG4gIHJlc2V0KCkge1xyXG4gICAgdGhpcy52YWx1ZSA9IDA7XHJcbiAgfVxyXG5cclxuICBzdG9wVGltZXIoKSB7XHJcbiAgICBpZiAodGhpcy50aW1lcklkKSB7XHJcbiAgICAgIGNsZWFySW50ZXJ2YWwodGhpcy50aW1lcklkKTtcclxuICAgICAgZGVsZXRlIHRoaXMudGltZXJJZDtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIGF0dHJpYnV0ZUNoYW5nZWRDYWxsYmFjayhuYW1lLCBvbGRWYWx1ZSwgbmV3VmFsdWUpIHtcclxuICAgIGlmIChuYW1lID09PSAnc3RhdGUnKSB7XHJcbiAgICAgIHN3aXRjaCAobmV3VmFsdWUpIHtcclxuICAgICAgICBjYXNlICdyZXNldCc6XHJcbiAgICAgICAgICB0aGlzLnN0b3BUaW1lcigpO1xyXG4gICAgICAgICAgdGhpcy5yZXNldCgpO1xyXG4gICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgY2FzZSAncnVuJzpcclxuICAgICAgICAgIHRoaXMudGltZXJJZCA9IHNldEludGVydmFsKCgpID0+IHtcclxuICAgICAgICAgICAgdGhpcy52YWx1ZSArPSAxO1xyXG4gICAgICAgICAgICB0aGlzLnJlbmRlcigpO1xyXG4gICAgICAgICAgfSwgMTApO1xyXG4gICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgY2FzZSAnc3RvcCc6XHJcbiAgICAgICAgICB0aGlzLnN0b3BUaW1lcigpO1xyXG4gICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgZGVmYXVsdDpcclxuICAgICAgfVxyXG4gICAgfVxyXG4gICAgdGhpcy5yZW5kZXIoKTtcclxuICB9XHJcblxyXG4gIHJlbmRlcigpIHtcclxuICAgIGNvbnN0IHJlc3VsdCA9IChgMDAwJHt0aGlzLnZhbHVlfWApLnNwbGl0KCcnKTtcclxuICAgIHJlc3VsdC5zcGxpY2UoLTIsIDAsICcuJyk7XHJcbiAgICB0aGlzLmlubmVySFRNTCA9IHJlc3VsdC5zbGljZSgtNSkuam9pbignJyk7XHJcbiAgfVxyXG59XHJcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./src/modules/components/stopwatch.js\n");

/***/ }),

/***/ "./src/modules/libs/common.js":
/*!************************************!*\
  !*** ./src/modules/libs/common.js ***!
  \************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"libGenerateCars\": () => (/* binding */ libGenerateCars),\n/* harmony export */   \"rgbToHex\": () => (/* binding */ rgbToHex)\n/* harmony export */ });\n/* harmony import */ var _data_cars_json__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../data/cars.json */ \"./data/cars.json\");\n\r\n\r\nfunction randomRange(min, max) {\r\n  return Math.floor(Math.random() * (max - min + 1) + min);\r\n}\r\n\r\nasync function libGenerateCars(amount) {\r\n  const results = [];\r\n  for (let i = 0; i < amount; i += 1) {\r\n    const carBrandIndex = randomRange(0, _data_cars_json__WEBPACK_IMPORTED_MODULE_0__.length - 1);\r\n    const carBrand = _data_cars_json__WEBPACK_IMPORTED_MODULE_0__[carBrandIndex].brand;\r\n    const carModelIndex = randomRange(0, _data_cars_json__WEBPACK_IMPORTED_MODULE_0__[carBrandIndex].models.length - 1);\r\n    const carModel = _data_cars_json__WEBPACK_IMPORTED_MODULE_0__[carBrandIndex].models[carModelIndex];\r\n    const color = `00000${randomRange(0, 0xFFFFFF).toString(16)}`.slice(-6);\r\n    const car = {\r\n      name: `${carBrand} ${carModel}`,\r\n      color: `#${color}`,\r\n    };\r\n    results.push(car);\r\n  }\r\n  return results;\r\n}\r\n\r\nfunction rgbToHex(color) {\r\n  return color.match(/\\d+/g).reduce((result, value) => {\r\n    const hexVal = (+value).toString(16);\r\n    return result + (hexVal.length > 1 ? hexVal : `0${hexVal}`);\r\n  }, '#');\r\n}\r\n\r\n\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvbW9kdWxlcy9saWJzL2NvbW1vbi5qcy5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7QUFBK0M7QUFDL0M7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxrQkFBa0IsWUFBWTtBQUM5Qix5Q0FBeUMsbURBQWU7QUFDeEQscUJBQXFCLDRDQUFRO0FBQzdCLHlDQUF5Qyw0Q0FBUTtBQUNqRCxxQkFBcUIsNENBQVE7QUFDN0IsMEJBQTBCLHNDQUFzQztBQUNoRTtBQUNBLGVBQWUsVUFBVSxFQUFFLFNBQVM7QUFDcEMsaUJBQWlCLE1BQU07QUFDdkI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esc0RBQXNELE9BQU87QUFDN0QsR0FBRztBQUNIO0FBQ0E7QUFDcUMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9hc3luYy1yYWNlLy4vc3JjL21vZHVsZXMvbGlicy9jb21tb24uanM/M2ZkNSJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgY2Fyc0xpc3QgZnJvbSAnLi4vLi4vLi4vZGF0YS9jYXJzLmpzb24nO1xyXG5cclxuZnVuY3Rpb24gcmFuZG9tUmFuZ2UobWluLCBtYXgpIHtcclxuICByZXR1cm4gTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogKG1heCAtIG1pbiArIDEpICsgbWluKTtcclxufVxyXG5cclxuYXN5bmMgZnVuY3Rpb24gbGliR2VuZXJhdGVDYXJzKGFtb3VudCkge1xyXG4gIGNvbnN0IHJlc3VsdHMgPSBbXTtcclxuICBmb3IgKGxldCBpID0gMDsgaSA8IGFtb3VudDsgaSArPSAxKSB7XHJcbiAgICBjb25zdCBjYXJCcmFuZEluZGV4ID0gcmFuZG9tUmFuZ2UoMCwgY2Fyc0xpc3QubGVuZ3RoIC0gMSk7XHJcbiAgICBjb25zdCBjYXJCcmFuZCA9IGNhcnNMaXN0W2NhckJyYW5kSW5kZXhdLmJyYW5kO1xyXG4gICAgY29uc3QgY2FyTW9kZWxJbmRleCA9IHJhbmRvbVJhbmdlKDAsIGNhcnNMaXN0W2NhckJyYW5kSW5kZXhdLm1vZGVscy5sZW5ndGggLSAxKTtcclxuICAgIGNvbnN0IGNhck1vZGVsID0gY2Fyc0xpc3RbY2FyQnJhbmRJbmRleF0ubW9kZWxzW2Nhck1vZGVsSW5kZXhdO1xyXG4gICAgY29uc3QgY29sb3IgPSBgMDAwMDAke3JhbmRvbVJhbmdlKDAsIDB4RkZGRkZGKS50b1N0cmluZygxNil9YC5zbGljZSgtNik7XHJcbiAgICBjb25zdCBjYXIgPSB7XHJcbiAgICAgIG5hbWU6IGAke2NhckJyYW5kfSAke2Nhck1vZGVsfWAsXHJcbiAgICAgIGNvbG9yOiBgIyR7Y29sb3J9YCxcclxuICAgIH07XHJcbiAgICByZXN1bHRzLnB1c2goY2FyKTtcclxuICB9XHJcbiAgcmV0dXJuIHJlc3VsdHM7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIHJnYlRvSGV4KGNvbG9yKSB7XHJcbiAgcmV0dXJuIGNvbG9yLm1hdGNoKC9cXGQrL2cpLnJlZHVjZSgocmVzdWx0LCB2YWx1ZSkgPT4ge1xyXG4gICAgY29uc3QgaGV4VmFsID0gKCt2YWx1ZSkudG9TdHJpbmcoMTYpO1xyXG4gICAgcmV0dXJuIHJlc3VsdCArIChoZXhWYWwubGVuZ3RoID4gMSA/IGhleFZhbCA6IGAwJHtoZXhWYWx9YCk7XHJcbiAgfSwgJyMnKTtcclxufVxyXG5cclxuZXhwb3J0IHsgbGliR2VuZXJhdGVDYXJzLCByZ2JUb0hleCB9O1xyXG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./src/modules/libs/common.js\n");

/***/ }),

/***/ "./src/modules/libs/lib_ui.js":
/*!************************************!*\
  !*** ./src/modules/libs/lib_ui.js ***!
  \************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"addElement\": () => (/* binding */ addElement),\n/* harmony export */   \"createElement\": () => (/* binding */ createElement),\n/* harmony export */   \"getElementAttribute\": () => (/* binding */ getElementAttribute),\n/* harmony export */   \"hideElement\": () => (/* binding */ hideElement),\n/* harmony export */   \"loadSvg\": () => (/* binding */ loadSvg),\n/* harmony export */   \"removeElementAttribute\": () => (/* binding */ removeElementAttribute),\n/* harmony export */   \"setDisabled\": () => (/* binding */ setDisabled),\n/* harmony export */   \"setElementAttribute\": () => (/* binding */ setElementAttribute),\n/* harmony export */   \"setEnabled\": () => (/* binding */ setEnabled),\n/* harmony export */   \"showElement\": () => (/* binding */ showElement)\n/* harmony export */ });\nfunction setElementAttribute(element, attribute, value) {\r\n  if (typeof element === 'string') {\r\n    document.querySelector(element).setAttribute(attribute, value);\r\n  } else {\r\n    element.setAttribute(attribute, value);\r\n  }\r\n}\r\n\r\nfunction getElementAttribute(element, attribute) {\r\n  if (typeof element === 'string') {\r\n    return document.querySelector(element).getAttribute(attribute);\r\n  }\r\n  return element.getAttribute(attribute);\r\n}\r\n\r\nfunction removeElementAttribute(element, attribute) {\r\n  if (typeof element === 'string') {\r\n    document.querySelector(element).removeAttribute(attribute);\r\n  } else {\r\n    element.removeAttribute(attribute);\r\n  }\r\n}\r\n\r\nfunction setDisabled(element) {\r\n  if (typeof element === 'string') {\r\n    document.querySelector(element).setAttribute('disabled', '');\r\n  } else {\r\n    element.setAttribute('disabled', '');\r\n  }\r\n}\r\n\r\nfunction setEnabled(element) {\r\n  if (typeof element === 'string') {\r\n    document.querySelector(element).removeAttribute('disabled');\r\n  } else {\r\n    element.removeAttribute('disabled');\r\n  }\r\n}\r\n\r\nfunction showElement(element) {\r\n  if (typeof element === 'string') {\r\n    document.querySelector(element).classList.remove('hidden');\r\n  } else {\r\n    element.classList.remove('hidden');\r\n  }\r\n}\r\n\r\nfunction hideElement(element) {\r\n  if (typeof element === 'string') {\r\n    document.querySelector(element).classList.add('hidden');\r\n  } else {\r\n    element.classList.add('hidden');\r\n  }\r\n}\r\n\r\nfunction createElement(elementType, classList, id, text, attributes) {\r\n  const element = document.createElement(elementType);\r\n  if (classList) {\r\n    classList.split(' ').forEach((c) => element.classList.add(c));\r\n  }\r\n  if (id) {\r\n    element.setAttribute('id', id);\r\n  }\r\n  if (text) {\r\n    element.textContent = text;\r\n  }\r\n  if (attributes) {\r\n    if (Array.isArray(attributes)) {\r\n      attributes.forEach((attr) => element.setAttribute(attr.name, attr.value));\r\n    } else {\r\n      element.setAttribute(attributes.name, attributes.value);\r\n    }\r\n  }\r\n  return element;\r\n}\r\n\r\nfunction addElement(destination, elementType, classList, id, text, attributes, position = 'end') {\r\n  const element = createElement(elementType, classList, id, text, attributes, position);\r\n  const insert = {\r\n    begin() {\r\n      if (typeof destination === 'string') {\r\n        document.querySelector(destination).prepend(element);\r\n      } else {\r\n        destination.prepend(element);\r\n      }\r\n    },\r\n    end() {\r\n      if (typeof destination === 'string') {\r\n        document.querySelector(destination).append(element);\r\n      } else {\r\n        destination.append(element);\r\n      }\r\n    },\r\n  };\r\n  insert[position]();\r\n}\r\n\r\nasync function loadSvg(path) {\r\n  const svg = await fetch(path).then((response) => response.text()).then((data) => data);\r\n  return svg;\r\n}\r\n\r\n\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvbW9kdWxlcy9saWJzL2xpYl91aS5qcy5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7O0FBQUE7QUFDQTtBQUNBO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsTUFBTTtBQUNOO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFFBQVE7QUFDUjtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBLFFBQVE7QUFDUjtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQVlFIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vYXN5bmMtcmFjZS8uL3NyYy9tb2R1bGVzL2xpYnMvbGliX3VpLmpzPzMxNmMiXSwic291cmNlc0NvbnRlbnQiOlsiZnVuY3Rpb24gc2V0RWxlbWVudEF0dHJpYnV0ZShlbGVtZW50LCBhdHRyaWJ1dGUsIHZhbHVlKSB7XHJcbiAgaWYgKHR5cGVvZiBlbGVtZW50ID09PSAnc3RyaW5nJykge1xyXG4gICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcihlbGVtZW50KS5zZXRBdHRyaWJ1dGUoYXR0cmlidXRlLCB2YWx1ZSk7XHJcbiAgfSBlbHNlIHtcclxuICAgIGVsZW1lbnQuc2V0QXR0cmlidXRlKGF0dHJpYnV0ZSwgdmFsdWUpO1xyXG4gIH1cclxufVxyXG5cclxuZnVuY3Rpb24gZ2V0RWxlbWVudEF0dHJpYnV0ZShlbGVtZW50LCBhdHRyaWJ1dGUpIHtcclxuICBpZiAodHlwZW9mIGVsZW1lbnQgPT09ICdzdHJpbmcnKSB7XHJcbiAgICByZXR1cm4gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihlbGVtZW50KS5nZXRBdHRyaWJ1dGUoYXR0cmlidXRlKTtcclxuICB9XHJcbiAgcmV0dXJuIGVsZW1lbnQuZ2V0QXR0cmlidXRlKGF0dHJpYnV0ZSk7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIHJlbW92ZUVsZW1lbnRBdHRyaWJ1dGUoZWxlbWVudCwgYXR0cmlidXRlKSB7XHJcbiAgaWYgKHR5cGVvZiBlbGVtZW50ID09PSAnc3RyaW5nJykge1xyXG4gICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcihlbGVtZW50KS5yZW1vdmVBdHRyaWJ1dGUoYXR0cmlidXRlKTtcclxuICB9IGVsc2Uge1xyXG4gICAgZWxlbWVudC5yZW1vdmVBdHRyaWJ1dGUoYXR0cmlidXRlKTtcclxuICB9XHJcbn1cclxuXHJcbmZ1bmN0aW9uIHNldERpc2FibGVkKGVsZW1lbnQpIHtcclxuICBpZiAodHlwZW9mIGVsZW1lbnQgPT09ICdzdHJpbmcnKSB7XHJcbiAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGVsZW1lbnQpLnNldEF0dHJpYnV0ZSgnZGlzYWJsZWQnLCAnJyk7XHJcbiAgfSBlbHNlIHtcclxuICAgIGVsZW1lbnQuc2V0QXR0cmlidXRlKCdkaXNhYmxlZCcsICcnKTtcclxuICB9XHJcbn1cclxuXHJcbmZ1bmN0aW9uIHNldEVuYWJsZWQoZWxlbWVudCkge1xyXG4gIGlmICh0eXBlb2YgZWxlbWVudCA9PT0gJ3N0cmluZycpIHtcclxuICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoZWxlbWVudCkucmVtb3ZlQXR0cmlidXRlKCdkaXNhYmxlZCcpO1xyXG4gIH0gZWxzZSB7XHJcbiAgICBlbGVtZW50LnJlbW92ZUF0dHJpYnV0ZSgnZGlzYWJsZWQnKTtcclxuICB9XHJcbn1cclxuXHJcbmZ1bmN0aW9uIHNob3dFbGVtZW50KGVsZW1lbnQpIHtcclxuICBpZiAodHlwZW9mIGVsZW1lbnQgPT09ICdzdHJpbmcnKSB7XHJcbiAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGVsZW1lbnQpLmNsYXNzTGlzdC5yZW1vdmUoJ2hpZGRlbicpO1xyXG4gIH0gZWxzZSB7XHJcbiAgICBlbGVtZW50LmNsYXNzTGlzdC5yZW1vdmUoJ2hpZGRlbicpO1xyXG4gIH1cclxufVxyXG5cclxuZnVuY3Rpb24gaGlkZUVsZW1lbnQoZWxlbWVudCkge1xyXG4gIGlmICh0eXBlb2YgZWxlbWVudCA9PT0gJ3N0cmluZycpIHtcclxuICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoZWxlbWVudCkuY2xhc3NMaXN0LmFkZCgnaGlkZGVuJyk7XHJcbiAgfSBlbHNlIHtcclxuICAgIGVsZW1lbnQuY2xhc3NMaXN0LmFkZCgnaGlkZGVuJyk7XHJcbiAgfVxyXG59XHJcblxyXG5mdW5jdGlvbiBjcmVhdGVFbGVtZW50KGVsZW1lbnRUeXBlLCBjbGFzc0xpc3QsIGlkLCB0ZXh0LCBhdHRyaWJ1dGVzKSB7XHJcbiAgY29uc3QgZWxlbWVudCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoZWxlbWVudFR5cGUpO1xyXG4gIGlmIChjbGFzc0xpc3QpIHtcclxuICAgIGNsYXNzTGlzdC5zcGxpdCgnICcpLmZvckVhY2goKGMpID0+IGVsZW1lbnQuY2xhc3NMaXN0LmFkZChjKSk7XHJcbiAgfVxyXG4gIGlmIChpZCkge1xyXG4gICAgZWxlbWVudC5zZXRBdHRyaWJ1dGUoJ2lkJywgaWQpO1xyXG4gIH1cclxuICBpZiAodGV4dCkge1xyXG4gICAgZWxlbWVudC50ZXh0Q29udGVudCA9IHRleHQ7XHJcbiAgfVxyXG4gIGlmIChhdHRyaWJ1dGVzKSB7XHJcbiAgICBpZiAoQXJyYXkuaXNBcnJheShhdHRyaWJ1dGVzKSkge1xyXG4gICAgICBhdHRyaWJ1dGVzLmZvckVhY2goKGF0dHIpID0+IGVsZW1lbnQuc2V0QXR0cmlidXRlKGF0dHIubmFtZSwgYXR0ci52YWx1ZSkpO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgZWxlbWVudC5zZXRBdHRyaWJ1dGUoYXR0cmlidXRlcy5uYW1lLCBhdHRyaWJ1dGVzLnZhbHVlKTtcclxuICAgIH1cclxuICB9XHJcbiAgcmV0dXJuIGVsZW1lbnQ7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIGFkZEVsZW1lbnQoZGVzdGluYXRpb24sIGVsZW1lbnRUeXBlLCBjbGFzc0xpc3QsIGlkLCB0ZXh0LCBhdHRyaWJ1dGVzLCBwb3NpdGlvbiA9ICdlbmQnKSB7XHJcbiAgY29uc3QgZWxlbWVudCA9IGNyZWF0ZUVsZW1lbnQoZWxlbWVudFR5cGUsIGNsYXNzTGlzdCwgaWQsIHRleHQsIGF0dHJpYnV0ZXMsIHBvc2l0aW9uKTtcclxuICBjb25zdCBpbnNlcnQgPSB7XHJcbiAgICBiZWdpbigpIHtcclxuICAgICAgaWYgKHR5cGVvZiBkZXN0aW5hdGlvbiA9PT0gJ3N0cmluZycpIHtcclxuICAgICAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGRlc3RpbmF0aW9uKS5wcmVwZW5kKGVsZW1lbnQpO1xyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgIGRlc3RpbmF0aW9uLnByZXBlbmQoZWxlbWVudCk7XHJcbiAgICAgIH1cclxuICAgIH0sXHJcbiAgICBlbmQoKSB7XHJcbiAgICAgIGlmICh0eXBlb2YgZGVzdGluYXRpb24gPT09ICdzdHJpbmcnKSB7XHJcbiAgICAgICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcihkZXN0aW5hdGlvbikuYXBwZW5kKGVsZW1lbnQpO1xyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgIGRlc3RpbmF0aW9uLmFwcGVuZChlbGVtZW50KTtcclxuICAgICAgfVxyXG4gICAgfSxcclxuICB9O1xyXG4gIGluc2VydFtwb3NpdGlvbl0oKTtcclxufVxyXG5cclxuYXN5bmMgZnVuY3Rpb24gbG9hZFN2ZyhwYXRoKSB7XHJcbiAgY29uc3Qgc3ZnID0gYXdhaXQgZmV0Y2gocGF0aCkudGhlbigocmVzcG9uc2UpID0+IHJlc3BvbnNlLnRleHQoKSkudGhlbigoZGF0YSkgPT4gZGF0YSk7XHJcbiAgcmV0dXJuIHN2ZztcclxufVxyXG5cclxuZXhwb3J0IHtcclxuICBzZXRFbGVtZW50QXR0cmlidXRlLFxyXG4gIGdldEVsZW1lbnRBdHRyaWJ1dGUsXHJcbiAgcmVtb3ZlRWxlbWVudEF0dHJpYnV0ZSxcclxuICBzZXREaXNhYmxlZCxcclxuICBzZXRFbmFibGVkLFxyXG4gIHNob3dFbGVtZW50LFxyXG4gIGhpZGVFbGVtZW50LFxyXG4gIGNyZWF0ZUVsZW1lbnQsXHJcbiAgYWRkRWxlbWVudCxcclxuICBsb2FkU3ZnLFxyXG59O1xyXG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./src/modules/libs/lib_ui.js\n");

/***/ }),

/***/ "./src/modules/ui.js":
/*!***************************!*\
  !*** ./src/modules/ui.js ***!
  \***************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"addCarToGarage\": () => (/* binding */ addCarToGarage),\n/* harmony export */   \"addCarToWinners\": () => (/* binding */ addCarToWinners),\n/* harmony export */   \"deleteCarFromWinners\": () => (/* binding */ deleteCarFromWinners),\n/* harmony export */   \"driveCar\": () => (/* binding */ driveCar),\n/* harmony export */   \"getWinnersSortSettings\": () => (/* binding */ getWinnersSortSettings),\n/* harmony export */   \"initUi\": () => (/* binding */ initUi),\n/* harmony export */   \"resetCar\": () => (/* binding */ resetCar),\n/* harmony export */   \"runStopwatch\": () => (/* binding */ runStopwatch),\n/* harmony export */   \"setCallbacks\": () => (/* binding */ setCallbacks),\n/* harmony export */   \"setGarageCount\": () => (/* binding */ setGarageCount),\n/* harmony export */   \"setGaragePage\": () => (/* binding */ setGaragePage),\n/* harmony export */   \"setTabActive\": () => (/* binding */ setTabActive),\n/* harmony export */   \"setWinnersCount\": () => (/* binding */ setWinnersCount),\n/* harmony export */   \"setWinnersPage\": () => (/* binding */ setWinnersPage),\n/* harmony export */   \"showRaceFailPopup\": () => (/* binding */ showRaceFailPopup),\n/* harmony export */   \"showWinnerPopup\": () => (/* binding */ showWinnerPopup),\n/* harmony export */   \"stopCar\": () => (/* binding */ stopCar),\n/* harmony export */   \"stopStopwatch\": () => (/* binding */ stopStopwatch),\n/* harmony export */   \"updateCar\": () => (/* binding */ updateCar)\n/* harmony export */ });\n/* harmony import */ var _libs_common__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./libs/common */ \"./src/modules/libs/common.js\");\n/* harmony import */ var _libs_lib_ui__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./libs/lib_ui */ \"./src/modules/libs/lib_ui.js\");\n/* harmony import */ var _components_stopwatch__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./components/stopwatch */ \"./src/modules/components/stopwatch.js\");\n\r\n\r\n\r\n\r\nconst mainTabs = ['garage', 'winners'];\r\nlet deleteCarCallback;\r\nlet startCarCallback;\r\nlet resetCarCallback;\r\n\r\nconst disableButtonNext = (tabName) => (0,_libs_lib_ui__WEBPACK_IMPORTED_MODULE_1__.setDisabled)(document.querySelector(`.tab-${tabName} .page-controls__button_next`));\r\nconst disableButtonPrevious = (tabName) => (0,_libs_lib_ui__WEBPACK_IMPORTED_MODULE_1__.setDisabled)(document.querySelector(`.tab-${tabName} .page-controls__button_prev`));\r\nconst enableButtonNext = (tabName) => (0,_libs_lib_ui__WEBPACK_IMPORTED_MODULE_1__.setEnabled)(document.querySelector(`.tab-${tabName} .page-controls__button_next`));\r\nconst enableButtonPrevious = (tabName) => (0,_libs_lib_ui__WEBPACK_IMPORTED_MODULE_1__.setEnabled)(document.querySelector(`.tab-${tabName} .page-controls__button_prev`));\r\n\r\nfunction enablePageControls(tabName) {\r\n  const pageControl = document.querySelector(`.tab-${tabName}__page-controls`);\r\n  const currentPage = +pageControl.querySelector('.page-controls__number').textContent;\r\n  const pagesCount = +pageControl.dataset.count;\r\n\r\n  if (currentPage === pagesCount) {\r\n    disableButtonNext(tabName);\r\n  } else {\r\n    enableButtonNext(tabName);\r\n  }\r\n\r\n  if (currentPage === 1) {\r\n    disableButtonPrevious(tabName);\r\n  } else {\r\n    enableButtonPrevious(tabName);\r\n  }\r\n}\r\n\r\nfunction setPageControls(tabName, currentPage, pagesCount) {\r\n  const pageControl = document.querySelector(`.tab-${tabName}__page-controls`);\r\n  pageControl.querySelector('.page-controls__number').textContent = currentPage;\r\n  (0,_libs_lib_ui__WEBPACK_IMPORTED_MODULE_1__.setElementAttribute)(pageControl, 'data-count', pagesCount);\r\n  enablePageControls(tabName);\r\n}\r\n\r\nfunction disablePageControls(tabName) {\r\n  disableButtonNext(tabName);\r\n  disableButtonPrevious(tabName);\r\n}\r\n\r\nfunction runStopwatch() {\r\n  (0,_libs_lib_ui__WEBPACK_IMPORTED_MODULE_1__.setElementAttribute)('.race-stopwatch', 'state', 'run');\r\n}\r\n\r\nfunction stopStopwatch() {\r\n  (0,_libs_lib_ui__WEBPACK_IMPORTED_MODULE_1__.setElementAttribute)('.race-stopwatch', 'state', 'stop');\r\n  return document.querySelector('.race-stopwatch').value / 100;\r\n}\r\n\r\nfunction resetStopwatch() {\r\n  (0,_libs_lib_ui__WEBPACK_IMPORTED_MODULE_1__.setElementAttribute)('.race-stopwatch', 'state', 'reset');\r\n}\r\n\r\nfunction setCarColor(pageClassName, id, color) {\r\n  document.querySelector(`.${pageClassName} .page__item[data-id=\"${id}\"] .car__body`).style.fill = color;\r\n}\r\n\r\nfunction updateCar({\r\n  id, name, color, wins, time,\r\n}) {\r\n  mainTabs.forEach((tab) => {\r\n    const pageItem = `.tab-${tab} .page__item[data-id=\"${id}\"]`;\r\n    if (document.querySelector(pageItem)) {\r\n      setCarColor(`tab-${tab}`, id, color);\r\n      document.querySelector(`${pageItem} .page__car-name`).textContent = name;\r\n      if (document.querySelector(`${pageItem} .page__wins`) && wins) {\r\n        document.querySelector(`${pageItem} .page__wins`).textContent = wins;\r\n      }\r\n      if (document.querySelector(`${pageItem} .page__time`) && time) {\r\n        document.querySelector(`${pageItem} .page__time`).textContent = time;\r\n      }\r\n    }\r\n  });\r\n}\r\n\r\nfunction enableUpdateBlock() {\r\n  (0,_libs_lib_ui__WEBPACK_IMPORTED_MODULE_1__.setEnabled)('.update-car__button_update');\r\n  (0,_libs_lib_ui__WEBPACK_IMPORTED_MODULE_1__.setEnabled)('.update-car__name');\r\n  (0,_libs_lib_ui__WEBPACK_IMPORTED_MODULE_1__.setEnabled)('.update-car__button_color');\r\n}\r\n\r\nfunction disableUpdateBlock() {\r\n  (0,_libs_lib_ui__WEBPACK_IMPORTED_MODULE_1__.setDisabled)('.update-car__button_update');\r\n  (0,_libs_lib_ui__WEBPACK_IMPORTED_MODULE_1__.setDisabled)('.update-car__name');\r\n  document.querySelector('.update-car__name').value = '';\r\n  (0,_libs_lib_ui__WEBPACK_IMPORTED_MODULE_1__.setDisabled)('.update-car__button_color');\r\n  (0,_libs_lib_ui__WEBPACK_IMPORTED_MODULE_1__.removeElementAttribute)('.update-car', 'data-car-id');\r\n}\r\n\r\nfunction selectCar(id) {\r\n  const race = document.querySelector(`.race[data-id=\"${id}\"]`);\r\n  enableUpdateBlock();\r\n  document.querySelector('.update-car__name').value = race.querySelector('.race__car-name').textContent;\r\n  document.querySelector('.update-car__button_color').value = (0,_libs_common__WEBPACK_IMPORTED_MODULE_0__.rgbToHex)(race.querySelector('.car__body').style.fill);\r\n  (0,_libs_lib_ui__WEBPACK_IMPORTED_MODULE_1__.setElementAttribute)('.update-car', 'data-car-id', id);\r\n}\r\n\r\nfunction setCount(tab, count) {\r\n  document.querySelector(`.tab-${tab}__cars-count`).textContent = count;\r\n}\r\n\r\nfunction setGarageCount(count) {\r\n  setCount('garage', count);\r\n}\r\n\r\nfunction setWinnersCount(count) {\r\n  setCount('winners', count);\r\n}\r\n\r\nfunction setPage(pageName, pageNum, pagesCount, cars, addCarCallback) {\r\n  const items = document.querySelectorAll(`.tab-${pageName} .page__item`);\r\n  if (cars.length > items.length) {\r\n    for (let i = 0; i < cars.length; i += 1) {\r\n      if (i < items.length) {\r\n        items[i].dataset.id = cars[i].id;\r\n        updateCar(cars[i]);\r\n      } else {\r\n        addCarCallback(cars[i]);\r\n      }\r\n    }\r\n  } else if (cars.length < items.length) {\r\n    for (let i = 0; i < items.length; i += 1) {\r\n      if (i < cars.length) {\r\n        items[i].dataset.id = cars[i].id;\r\n        updateCar(cars[i]);\r\n      } else {\r\n        items[i].remove();\r\n      }\r\n    }\r\n  } else {\r\n    items.forEach((race, i) => {\r\n      const currentRace = race;\r\n      currentRace.dataset.id = cars[i].id;\r\n      updateCar(cars[i]);\r\n    });\r\n  }\r\n  setPageControls(pageName, pageNum, pagesCount);\r\n\r\n  const updateCarId = document.querySelector('.update-car').dataset.carId;\r\n  let idFound = false;\r\n  document.querySelectorAll('.race').forEach((race) => {\r\n    if (race.dataset.id === updateCarId) idFound = true;\r\n  });\r\n  if (!idFound) disableUpdateBlock();\r\n}\r\n\r\nasync function addCarToWinners({\r\n  id, time, wins, name, color,\r\n}) {\r\n  const carImg = await (0,_libs_lib_ui__WEBPACK_IMPORTED_MODULE_1__.loadSvg)('./images/car.svg').then((data) => data);\r\n  const elementNumber = (document.querySelector('.winners-table__body').children.length + 1) * (+document.querySelector('.tab-winners__page-number').textContent);\r\n  const idRow = `.winners-table__row[data-id=\"${id}\"]`;\r\n  (0,_libs_lib_ui__WEBPACK_IMPORTED_MODULE_1__.addElement)('.winners-table__body', 'tr', 'winners-table__row page__item', null, null, { name: 'data-id', value: id });\r\n  (0,_libs_lib_ui__WEBPACK_IMPORTED_MODULE_1__.addElement)(idRow, 'td', 'winners-table__cell', null, elementNumber, { name: 'data-type', value: 'number' });\r\n  (0,_libs_lib_ui__WEBPACK_IMPORTED_MODULE_1__.addElement)(idRow, 'td', 'winners-table__cell page__car', null, null, { name: 'data-type', value: 'image' });\r\n  document.querySelector(`.winners-table__row[data-id=\"${id}\"] .winners-table__cell[data-type=\"image\"]`).innerHTML = carImg;\r\n  setCarColor('tab-winners', id, color);\r\n  (0,_libs_lib_ui__WEBPACK_IMPORTED_MODULE_1__.addElement)(idRow, 'td', 'winners-table__cell page__car-name', null, name, { name: 'data-type', value: 'name' });\r\n  (0,_libs_lib_ui__WEBPACK_IMPORTED_MODULE_1__.addElement)(idRow, 'td', 'winners-table__cell page__wins', null, wins, { name: 'data-type', value: 'wins' });\r\n  (0,_libs_lib_ui__WEBPACK_IMPORTED_MODULE_1__.addElement)(idRow, 'td', 'winners-table__cell page__time', null, time, { name: 'data-type', value: 'time' });\r\n}\r\n\r\nfunction setWinnersPage(pageNum, maxCarsOnPage, pagesCount, cars) {\r\n  setPage('winners', pageNum, pagesCount, cars, addCarToWinners);\r\n  const startNumber = (pageNum - 1) * maxCarsOnPage + 1;\r\n  document.querySelectorAll('.winners-table__row').forEach((row, index) => {\r\n    const numberCell = row.querySelector('.winners-table__cell[data-type=\"number\"]');\r\n    numberCell.textContent = startNumber + index;\r\n  });\r\n}\r\n\r\nfunction animateCarDrive({ id, draw, duration }) {\r\n  const start = performance.now();\r\n  return requestAnimationFrame(function animate(time) {\r\n    let timeFraction = (time - start) / duration;\r\n    if (timeFraction > 1) timeFraction = 1;\r\n    draw(timeFraction);\r\n    if (timeFraction < 1) {\r\n      const animationId = requestAnimationFrame(animate);\r\n      const race = document.querySelector(`.race[data-id=\"${id}\"]`);\r\n      (0,_libs_lib_ui__WEBPACK_IMPORTED_MODULE_1__.setElementAttribute)(race, 'data-animation-id', animationId);\r\n    }\r\n  });\r\n}\r\n\r\nfunction noCarsDriving() {\r\n  const races = document.querySelectorAll('.race');\r\n  for (let i = 0; i < races.length; i += 1) {\r\n    if (races[i].dataset.state !== 'reset') return false;\r\n  }\r\n  return true;\r\n}\r\n\r\nfunction driveCar(id, { velocity, distance }) {\r\n  const race = document.querySelector(`.race[data-id=\"${id}\"]`);\r\n  if (!race) return;\r\n  const car = race.querySelector('.race__car');\r\n  (0,_libs_lib_ui__WEBPACK_IMPORTED_MODULE_1__.setEnabled)(race.querySelector('.race__control_stop'));\r\n  (0,_libs_lib_ui__WEBPACK_IMPORTED_MODULE_1__.setEnabled)(document.querySelector('.controls__reset-button'));\r\n  const duration = distance / velocity; // milliseconds\r\n  const wheels = car.querySelectorAll('.car__wheel');\r\n  for (let i = 0; i < wheels.length; i += 1) {\r\n    wheels[i].style.transitionDuration = `${Math.round(duration)}ms`;\r\n  }\r\n  const bodyContent = window.getComputedStyle(document.querySelector('.body__content'));\r\n  const padding = parseInt(bodyContent.paddingLeft, 10);\r\n  const driveDistance = parseInt(bodyContent.width, 10) - padding * 2\r\n    - parseInt(window.getComputedStyle(car).width, 10);\r\n  const start = padding;\r\n\r\n  const animationId = animateCarDrive({\r\n    id,\r\n    duration,\r\n    draw(progress) {\r\n      car.style.left = `${start + progress * driveDistance}px`;\r\n    },\r\n  });\r\n  (0,_libs_lib_ui__WEBPACK_IMPORTED_MODULE_1__.setElementAttribute)(race, 'data-animation-id', animationId);\r\n  (0,_libs_lib_ui__WEBPACK_IMPORTED_MODULE_1__.setElementAttribute)(race, 'data-state', 'drive');\r\n  car.classList.add('race-animation');\r\n}\r\n\r\nfunction stopCar(id) {\r\n  const race = document.querySelector(`.race[data-id=\"${id}\"]`);\r\n  if (!race) return;\r\n  const car = race.querySelector('.race__car');\r\n  car.style.transitionDuration = '';\r\n  const wheels = car.querySelectorAll('.car__wheel');\r\n  for (let i = 0; i < wheels.length; i += 1) {\r\n    wheels[i].style.transitionDuration = '';\r\n  }\r\n  cancelAnimationFrame(+race.dataset.animationId);\r\n  car.classList.remove('race-animation');\r\n  (0,_libs_lib_ui__WEBPACK_IMPORTED_MODULE_1__.setEnabled)(race.querySelector('.race__button_remove'));\r\n  (0,_libs_lib_ui__WEBPACK_IMPORTED_MODULE_1__.setEnabled)(race.querySelector('.race__button_select'));\r\n  (0,_libs_lib_ui__WEBPACK_IMPORTED_MODULE_1__.setElementAttribute)(race, 'data-state', 'stopped');\r\n}\r\n\r\nfunction resetCar(id) {\r\n  const race = document.querySelector(`.race[data-id=\"${id}\"]`);\r\n  if (!race) return;\r\n  const car = race.querySelector('.race__car');\r\n  (0,_libs_lib_ui__WEBPACK_IMPORTED_MODULE_1__.setEnabled)(race.querySelector('.race__control_start'));\r\n  (0,_libs_lib_ui__WEBPACK_IMPORTED_MODULE_1__.setDisabled)(race.querySelector('.race__control_stop'));\r\n  stopCar(id);\r\n  car.style.left = '';\r\n  (0,_libs_lib_ui__WEBPACK_IMPORTED_MODULE_1__.setElementAttribute)(race, 'data-state', 'reset');\r\n  if (noCarsDriving()) {\r\n    (0,_libs_lib_ui__WEBPACK_IMPORTED_MODULE_1__.setEnabled)(document.querySelector('.controls__race-button'));\r\n    enablePageControls('garage');\r\n    (0,_libs_lib_ui__WEBPACK_IMPORTED_MODULE_1__.setDisabled)(document.querySelector('.controls__reset-button'));\r\n    resetStopwatch();\r\n    (0,_libs_lib_ui__WEBPACK_IMPORTED_MODULE_1__.setEnabled)(document.querySelector('.controls__generate-button'));\r\n  }\r\n}\r\n\r\nfunction showPopup(content) {\r\n  let popup = document.querySelector('.popup');\r\n  if (popup) {\r\n    popup.remove();\r\n  }\r\n  (0,_libs_lib_ui__WEBPACK_IMPORTED_MODULE_1__.addElement)('.body__content', 'div', 'popup');\r\n  (0,_libs_lib_ui__WEBPACK_IMPORTED_MODULE_1__.addElement)('.popup', 'div', 'popup__content');\r\n  document.querySelector('.popup__content').innerHTML = content.innerHTML;\r\n  (0,_libs_lib_ui__WEBPACK_IMPORTED_MODULE_1__.addElement)('.popup__content', 'button', 'button button_black popup__close-button', null, 'close');\r\n  document.querySelector('.popup__close-button').onclick = () => {\r\n    document.querySelector('.popup').ontransitionend = () => {\r\n      popup = document.querySelector('.popup');\r\n      if (popup) {\r\n        popup.remove();\r\n      }\r\n    };\r\n    document.querySelector('.popup').classList.remove('show-popup');\r\n  };\r\n  enablePageControls('garage');\r\n  document.querySelector('.popup').classList.add('show-popup');\r\n}\r\n\r\nfunction showWinnerPopup(winnerData) {\r\n  const content = (0,_libs_lib_ui__WEBPACK_IMPORTED_MODULE_1__.createElement)('div');\r\n  (0,_libs_lib_ui__WEBPACK_IMPORTED_MODULE_1__.addElement)(content, 'img', 'popup__cup', null, null, { name: 'src', value: './images/cup.svg' });\r\n  (0,_libs_lib_ui__WEBPACK_IMPORTED_MODULE_1__.addElement)(content, 'h2', 'popup__caption', null, 'winner');\r\n  (0,_libs_lib_ui__WEBPACK_IMPORTED_MODULE_1__.addElement)(content, 'p', 'popup__car-name', null, document.querySelector(`.race[data-id=\"${winnerData.id}\"] .race__car-name`).textContent);\r\n  (0,_libs_lib_ui__WEBPACK_IMPORTED_MODULE_1__.addElement)(content, 'p', 'popup__time', null, `Time: ${winnerData.time.toFixed(2)} sec`);\r\n  showPopup(content);\r\n  (0,_libs_lib_ui__WEBPACK_IMPORTED_MODULE_1__.setEnabled)('.controls__reset-button');\r\n}\r\n\r\nfunction showRaceFailPopup(message) {\r\n  const content = (0,_libs_lib_ui__WEBPACK_IMPORTED_MODULE_1__.createElement)('div');\r\n  (0,_libs_lib_ui__WEBPACK_IMPORTED_MODULE_1__.addElement)(content, 'h2', 'popup__caption', null, message);\r\n  showPopup(content);\r\n  (0,_libs_lib_ui__WEBPACK_IMPORTED_MODULE_1__.setEnabled)('.controls__reset-button');\r\n}\r\n\r\nfunction setGarageListeners(currentRace) {\r\n  document.querySelector(`${currentRace} .race__button_remove`).addEventListener('click', (event) => {\r\n    const carId = event.target.closest('.race').dataset.id;\r\n    deleteCarCallback(carId);\r\n    const curUpdateCarId = document.querySelector('.update-car').dataset.carId;\r\n    if (curUpdateCarId === carId) {\r\n      disableUpdateBlock();\r\n    }\r\n  });\r\n\r\n  document.querySelector(`${currentRace} .race__button_select`).addEventListener('click', (event) => {\r\n    selectCar((0,_libs_lib_ui__WEBPACK_IMPORTED_MODULE_1__.getElementAttribute)(event.target.closest('.race'), 'data-id'));\r\n  });\r\n\r\n  document.querySelector(`${currentRace} .race__control_start`).addEventListener('click', (event) => {\r\n    const carId = (0,_libs_lib_ui__WEBPACK_IMPORTED_MODULE_1__.getElementAttribute)(event.target.closest('.race'), 'data-id');\r\n    const race = document.querySelector(`.race[data-id=\"${carId}\"]`);\r\n    (0,_libs_lib_ui__WEBPACK_IMPORTED_MODULE_1__.setDisabled)(race.querySelector('.race__control_start'));\r\n    (0,_libs_lib_ui__WEBPACK_IMPORTED_MODULE_1__.setDisabled)(race.querySelector('.race__button_remove'));\r\n    (0,_libs_lib_ui__WEBPACK_IMPORTED_MODULE_1__.setDisabled)(race.querySelector('.race__button_select'));\r\n    (0,_libs_lib_ui__WEBPACK_IMPORTED_MODULE_1__.setDisabled)(document.querySelector('.controls__race-button'));\r\n    (0,_libs_lib_ui__WEBPACK_IMPORTED_MODULE_1__.setDisabled)(document.querySelector('.controls__generate-button'));\r\n    startCarCallback(carId);\r\n  });\r\n\r\n  document.querySelector(`${currentRace} .race__control_stop`).addEventListener('click', (event) => {\r\n    const carId = (0,_libs_lib_ui__WEBPACK_IMPORTED_MODULE_1__.getElementAttribute)(event.target.closest('.race'), 'data-id');\r\n    const race = document.querySelector(`.race[data-id=\"${carId}\"]`);\r\n    stopCar(carId);\r\n    (0,_libs_lib_ui__WEBPACK_IMPORTED_MODULE_1__.setDisabled)(race.querySelector('.race__control_stop'));\r\n    resetCarCallback(carId);\r\n  });\r\n}\r\n\r\nasync function addCarToGarage({ id, name, color }) {\r\n  (0,_libs_lib_ui__WEBPACK_IMPORTED_MODULE_1__.addElement)('.race-area', 'div', 'race page__item', null, null, { name: 'data-id', value: id });\r\n  const currentRace = `.race[data-id=\"${id}\"]`;\r\n  (0,_libs_lib_ui__WEBPACK_IMPORTED_MODULE_1__.addElement)(currentRace, 'div', 'race__buttons');\r\n  (0,_libs_lib_ui__WEBPACK_IMPORTED_MODULE_1__.addElement)(`${currentRace} .race__buttons`, 'button', 'button button_black race__button race__button_select', null, 'select');\r\n  (0,_libs_lib_ui__WEBPACK_IMPORTED_MODULE_1__.addElement)(`${currentRace} .race__buttons`, 'button', 'button button_black race__button race__button_remove', null, 'remove');\r\n  (0,_libs_lib_ui__WEBPACK_IMPORTED_MODULE_1__.addElement)(`${currentRace}`, 'div', 'race__controls', '');\r\n  (0,_libs_lib_ui__WEBPACK_IMPORTED_MODULE_1__.addElement)(`${currentRace} .race__controls`, 'button', 'button button_main-color button_round race__control race__control_start');\r\n  (0,_libs_lib_ui__WEBPACK_IMPORTED_MODULE_1__.addElement)(`${currentRace} .race__control_start`, 'img', 'race__control-img', null, null, { name: 'src', value: './images/button-start.svg' });\r\n  (0,_libs_lib_ui__WEBPACK_IMPORTED_MODULE_1__.addElement)(`${currentRace} .race__controls`, 'button', 'button button_main-color button_round race__control race__control_stop', null, null, { name: 'disabled', value: '' });\r\n  (0,_libs_lib_ui__WEBPACK_IMPORTED_MODULE_1__.addElement)(`${currentRace} .race__control_stop`, 'img', 'race__control-img', null, null, { name: 'src', value: './images/button-stop.svg' });\r\n  (0,_libs_lib_ui__WEBPACK_IMPORTED_MODULE_1__.addElement)(`${currentRace} .race__controls`, 'p', 'race__car-name page__car-name');\r\n  (0,_libs_lib_ui__WEBPACK_IMPORTED_MODULE_1__.addElement)(currentRace, 'div', 'race__road');\r\n  (0,_libs_lib_ui__WEBPACK_IMPORTED_MODULE_1__.addElement)(`${currentRace} .race__road`, 'div', 'race__car page__car');\r\n  const carImg = await (0,_libs_lib_ui__WEBPACK_IMPORTED_MODULE_1__.loadSvg)('./images/car.svg').then((data) => data);\r\n  document.querySelector(`${currentRace} .race__car`).innerHTML = carImg;\r\n  updateCar({ id, name, color });\r\n  setGarageListeners(currentRace);\r\n  (0,_libs_lib_ui__WEBPACK_IMPORTED_MODULE_1__.setEnabled)('.controls__race-button');\r\n}\r\n\r\nfunction setGaragePage(pageNum, pagesCount, cars) {\r\n  const popup = document.querySelector('.popup');\r\n  if (popup) popup.remove();\r\n  setPage('garage', pageNum, pagesCount, cars, addCarToGarage);\r\n  document.querySelectorAll('.race').forEach((race) => {\r\n    resetCar(race.dataset.id);\r\n  });\r\n}\r\n\r\nfunction deleteCarFromWinners(id) {\r\n  const carInWinnersTable = document.querySelector(`.winners-table__row[data-id=\"${id}\"]`);\r\n  if (carInWinnersTable) {\r\n    carInWinnersTable.remove();\r\n  }\r\n}\r\n\r\nfunction editCarNameCheck(event, relatedButton) {\r\n  if (event.target.value === '') {\r\n    (0,_libs_lib_ui__WEBPACK_IMPORTED_MODULE_1__.setDisabled)(`.${relatedButton}`);\r\n  } else {\r\n    (0,_libs_lib_ui__WEBPACK_IMPORTED_MODULE_1__.setEnabled)(`.${relatedButton}`);\r\n  }\r\n}\r\n\r\nfunction tabButtonClick(tab) {\r\n  mainTabs.forEach((curTab) => {\r\n    const tabButton = `.header__button_tab-${curTab}`;\r\n    if (tab === curTab) {\r\n      (0,_libs_lib_ui__WEBPACK_IMPORTED_MODULE_1__.showElement)(`.tab-${curTab}`);\r\n      document.querySelector(tabButton).classList.add('highlight');\r\n    } else {\r\n      (0,_libs_lib_ui__WEBPACK_IMPORTED_MODULE_1__.hideElement)(`.tab-${curTab}`);\r\n      document.querySelector(tabButton).classList.remove('highlight');\r\n    }\r\n  });\r\n}\r\n\r\nfunction initListeners() {\r\n  document.querySelector('.new-car__name').addEventListener('input', (event) => {\r\n    editCarNameCheck(event, 'new-car__button_create');\r\n  });\r\n\r\n  document.querySelector('.update-car__name').addEventListener('input', (event) => {\r\n    editCarNameCheck(event, 'update-car__button_update');\r\n  });\r\n\r\n  mainTabs.forEach((tab) => {\r\n    document.querySelector(`.header__button_tab-${tab}`).addEventListener('click', () => {\r\n      tabButtonClick(tab);\r\n    });\r\n  });\r\n}\r\n\r\nfunction getWinnersSortSettings() {\r\n  const sortCell = document.querySelector('.winners-table__header-cell[data-order]');\r\n  return {\r\n    sortParam: sortCell.dataset.sort,\r\n    sortOrder: sortCell.dataset.order,\r\n  };\r\n}\r\n\r\nfunction sortHeaderClick(event, callback) {\r\n  const sortCell = event.currentTarget;\r\n  document.querySelectorAll('.winners-table__header-cell[data-sort]').forEach((cell) => {\r\n    if (cell.dataset.sort !== sortCell.dataset.sort) {\r\n      cell.removeAttribute('data-order');\r\n    }\r\n  });\r\n  const sortParam = sortCell.dataset.sort;\r\n  const sortOrder = sortCell.dataset.order === 'ASC' ? 'DESC' : 'ASC';\r\n  sortCell.dataset.order = sortOrder;\r\n  callback({ sortParam, sortOrder });\r\n}\r\n\r\nfunction createCarClick(callback) {\r\n  const name = document.querySelector('.new-car__name').value;\r\n  const color = document.querySelector('.new-car__button_color').value;\r\n  document.querySelector('.new-car__name').value = '';\r\n  (0,_libs_lib_ui__WEBPACK_IMPORTED_MODULE_1__.setDisabled)('.new-car__button_create');\r\n  callback({ name, color });\r\n}\r\n\r\nfunction updateCarClick(callback) {\r\n  const id = document.querySelector('.update-car').dataset.carId;\r\n  const name = document.querySelector('.update-car__name').value;\r\n  const color = document.querySelector('.update-car__button_color').value;\r\n  document.querySelector('.update-car__name').value = '';\r\n  disableUpdateBlock();\r\n  callback({ id, name, color });\r\n}\r\n\r\nfunction raceClick(callback) {\r\n  (0,_libs_lib_ui__WEBPACK_IMPORTED_MODULE_1__.setDisabled)('.controls__race-button');\r\n  (0,_libs_lib_ui__WEBPACK_IMPORTED_MODULE_1__.setDisabled)('.controls__reset-button');\r\n  (0,_libs_lib_ui__WEBPACK_IMPORTED_MODULE_1__.setDisabled)('.controls__generate-button');\r\n  disablePageControls('garage');\r\n  const ids = [];\r\n  document.querySelectorAll('.race').forEach((race) => {\r\n    ids.push(+race.dataset.id);\r\n    (0,_libs_lib_ui__WEBPACK_IMPORTED_MODULE_1__.setDisabled)(race.querySelector('.race__control_start'));\r\n    (0,_libs_lib_ui__WEBPACK_IMPORTED_MODULE_1__.setDisabled)(race.querySelector('.race__button_select'));\r\n    (0,_libs_lib_ui__WEBPACK_IMPORTED_MODULE_1__.setDisabled)(race.querySelector('.race__button_remove'));\r\n  });\r\n  callback(ids);\r\n}\r\n\r\nasync function resetClick(callback) {\r\n  (0,_libs_lib_ui__WEBPACK_IMPORTED_MODULE_1__.setDisabled)('.controls__reset-button');\r\n  const ids = [];\r\n  document.querySelectorAll('.race').forEach((race) => {\r\n    ids.push(+race.dataset.id);\r\n  });\r\n  await callback(ids);\r\n  resetStopwatch();\r\n  const popup = document.querySelector('.popup');\r\n  if (popup) {\r\n    popup.remove();\r\n  }\r\n}\r\n\r\nfunction setPageControlsCallbacks(\r\n  garagePrevCallback,\r\n  garageNextCallback,\r\n  winnersPrevCallback,\r\n  winnersNextCallback,\r\n) {\r\n  document.querySelector('.tab-garage__prev-page').addEventListener('click', garagePrevCallback);\r\n  document.querySelector('.tab-garage__next-page').addEventListener('click', garageNextCallback);\r\n  document.querySelector('.tab-winners__prev-page').addEventListener('click', winnersPrevCallback);\r\n  document.querySelector('.tab-winners__next-page').addEventListener('click', winnersNextCallback);\r\n}\r\n\r\nfunction setCallbacks(\r\n  garageCreateCarCb,\r\n  garageUpdateCarCb,\r\n  deleteCarCb,\r\n  garagePrevPageCb,\r\n  garageNextPageCb,\r\n  winPrevPageCb,\r\n  winNextPageCb,\r\n  winSortCb,\r\n  generateCarsCb,\r\n  startCarCb,\r\n  resetCarCb,\r\n  startRaceCb,\r\n  resetRaceCb,\r\n) {\r\n  setPageControlsCallbacks(garagePrevPageCb, garageNextPageCb, winPrevPageCb, winNextPageCb);\r\n  document.querySelector('.controls__generate-button').addEventListener('click', async () => {\r\n    await generateCarsCb();\r\n  });\r\n  document.querySelectorAll('.winners-table__header-cell[data-sort]').forEach((sort) => sort.addEventListener('click', (event) => {\r\n    sortHeaderClick(event, winSortCb);\r\n  }));\r\n  document.querySelector('.new-car__button_create').addEventListener('click', () => {\r\n    createCarClick(garageCreateCarCb);\r\n  });\r\n  document.querySelector('.update-car__button_update').addEventListener('click', () => {\r\n    updateCarClick(garageUpdateCarCb);\r\n  });\r\n  document.querySelector('.controls__race-button').addEventListener('click', () => {\r\n    raceClick(startRaceCb);\r\n  });\r\n  document.querySelector('.controls__reset-button').addEventListener('click', async () => {\r\n    resetClick(resetRaceCb);\r\n  });\r\n  deleteCarCallback = deleteCarCb;\r\n  startCarCallback = startCarCb;\r\n  resetCarCallback = resetCarCb;\r\n}\r\n\r\nfunction initControlPanel() {\r\n  (0,_libs_lib_ui__WEBPACK_IMPORTED_MODULE_1__.addElement)('.tab-garage', 'div', 'control-panel');\r\n  (0,_libs_lib_ui__WEBPACK_IMPORTED_MODULE_1__.addElement)('.control-panel', 'div', 'new-car');\r\n  (0,_libs_lib_ui__WEBPACK_IMPORTED_MODULE_1__.addElement)('.new-car', 'input', 'input new-car__name', null, null, { name: 'type', value: 'text' });\r\n  (0,_libs_lib_ui__WEBPACK_IMPORTED_MODULE_1__.addElement)('.new-car', 'input', 'input button-color new-car__button new-car__button_color', null, null, { name: 'type', value: 'color' });\r\n  (0,_libs_lib_ui__WEBPACK_IMPORTED_MODULE_1__.addElement)('.new-car', 'button', 'button button_black control-panel__button new-car__button_create', null, 'create');\r\n\r\n  (0,_libs_lib_ui__WEBPACK_IMPORTED_MODULE_1__.addElement)('.control-panel', 'div', 'update-car');\r\n  (0,_libs_lib_ui__WEBPACK_IMPORTED_MODULE_1__.addElement)('.update-car', 'input', 'input update-car__name', null, null, { name: 'type', value: 'text' });\r\n  (0,_libs_lib_ui__WEBPACK_IMPORTED_MODULE_1__.addElement)('.update-car', 'input', 'input button-color update-car__button update-car__button_color', null, null, { name: 'type', value: 'color' });\r\n  (0,_libs_lib_ui__WEBPACK_IMPORTED_MODULE_1__.addElement)('.update-car', 'button', 'button button_black control-panel__button update-car__button_update', null, 'update');\r\n\r\n  (0,_libs_lib_ui__WEBPACK_IMPORTED_MODULE_1__.addElement)('.control-panel', 'div', 'controls');\r\n  (0,_libs_lib_ui__WEBPACK_IMPORTED_MODULE_1__.addElement)('.controls', 'button', 'button button_main-color controls__race-button', null, 'race');\r\n  (0,_libs_lib_ui__WEBPACK_IMPORTED_MODULE_1__.addElement)('.controls', 'button', 'button button_main-color controls__reset-button', null, 'reset');\r\n  (0,_libs_lib_ui__WEBPACK_IMPORTED_MODULE_1__.addElement)('.controls', 'button', 'button button_main-color controls__generate-button', null, 'generate cars');\r\n}\r\n\r\nfunction initTabs() {\r\n  (0,_libs_lib_ui__WEBPACK_IMPORTED_MODULE_1__.addElement)('.header__content', 'div', 'header__buttons');\r\n  (0,_libs_lib_ui__WEBPACK_IMPORTED_MODULE_1__.addElement)('.header__content', 'img', 'header__logo', null, null, { name: 'src', value: './images/logo.svg' });\r\n  mainTabs.forEach((tab, index) => {\r\n    (0,_libs_lib_ui__WEBPACK_IMPORTED_MODULE_1__.addElement)('.header__buttons', 'button', `button button_black header__button header__button_tab-${tab}`, null, tab);\r\n    (0,_libs_lib_ui__WEBPACK_IMPORTED_MODULE_1__.addElement)('.main__content', 'section', `tab tab-${tab}`);\r\n    if (index > 0) {\r\n      (0,_libs_lib_ui__WEBPACK_IMPORTED_MODULE_1__.hideElement)(`.tab-${tab}`);\r\n    } else {\r\n      document.querySelector(`.header__button_tab-${tab}`).classList.add('highlight');\r\n    }\r\n  });\r\n}\r\n\r\nfunction initFooter() {\r\n  (0,_libs_lib_ui__WEBPACK_IMPORTED_MODULE_1__.addElement)('.footer__content', 'a', 'footer__github-logo', null, null, { name: 'href', value: 'https://github.com/BayanAlex' });\r\n  (0,_libs_lib_ui__WEBPACK_IMPORTED_MODULE_1__.addElement)('.footer__github-logo', 'img', 'footer__github-img', null, null, { name: 'src', value: 'images/logo-github.svg' });\r\n  (0,_libs_lib_ui__WEBPACK_IMPORTED_MODULE_1__.addElement)('.footer__content', 'div', 'footer__copyright', null, ' 01.2023 Oleksandr Shyhyda');\r\n  (0,_libs_lib_ui__WEBPACK_IMPORTED_MODULE_1__.addElement)('.footer__content', 'a', 'footer__rs-logo', null, null, { name: 'href', value: 'https://rs.school/' });\r\n  (0,_libs_lib_ui__WEBPACK_IMPORTED_MODULE_1__.addElement)('.footer__rs-logo', 'img', 'footer__rs-img', null, null, { name: 'src', value: 'images/logo-rsschool.svg' });\r\n}\r\n\r\nfunction initBody() {\r\n  (0,_libs_lib_ui__WEBPACK_IMPORTED_MODULE_1__.addElement)('.body', 'div', 'body__content', null, null, null, 'begin');\r\n  (0,_libs_lib_ui__WEBPACK_IMPORTED_MODULE_1__.addElement)('.body__content', 'header', 'header');\r\n  (0,_libs_lib_ui__WEBPACK_IMPORTED_MODULE_1__.addElement)('.header', 'div', 'header__content');\r\n  (0,_libs_lib_ui__WEBPACK_IMPORTED_MODULE_1__.addElement)('.body__content', 'main', 'main');\r\n  (0,_libs_lib_ui__WEBPACK_IMPORTED_MODULE_1__.addElement)('.main', 'div', 'main__content');\r\n  (0,_libs_lib_ui__WEBPACK_IMPORTED_MODULE_1__.addElement)('.body__content', 'footer', 'footer');\r\n  (0,_libs_lib_ui__WEBPACK_IMPORTED_MODULE_1__.addElement)('.footer', 'div', 'footer__content');\r\n  initFooter();\r\n}\r\n\r\nfunction addPageControl(pageName) {\r\n  (0,_libs_lib_ui__WEBPACK_IMPORTED_MODULE_1__.addElement)(`.tab-${pageName}`, 'div', `page-controls tab-${pageName}__page-controls`);\r\n  (0,_libs_lib_ui__WEBPACK_IMPORTED_MODULE_1__.addElement)(`.tab-${pageName} .page-controls`, 'button', `button button_round button_main-color page-controls__button page-controls__button_prev tab-${pageName}__prev-page`, null);\r\n  (0,_libs_lib_ui__WEBPACK_IMPORTED_MODULE_1__.addElement)(`.tab-${pageName}__prev-page`, 'img', null, null, null, { name: 'src', value: './images/angle-left.svg' });\r\n  (0,_libs_lib_ui__WEBPACK_IMPORTED_MODULE_1__.addElement)(`.tab-${pageName} .page-controls`, 'div', `page-controls__number tab-${pageName}__page-number`, null, '1');\r\n  (0,_libs_lib_ui__WEBPACK_IMPORTED_MODULE_1__.addElement)(`.tab-${pageName} .page-controls`, 'button', `button button_round button_main-color page-controls__button page-controls__button_next tab-${pageName}__next-page`, null);\r\n  (0,_libs_lib_ui__WEBPACK_IMPORTED_MODULE_1__.addElement)(`.tab-${pageName}__next-page`, 'img', null, null, null, { name: 'src', value: './images/angle-right.svg' });\r\n}\r\n\r\nfunction initGarage() {\r\n  (0,_libs_lib_ui__WEBPACK_IMPORTED_MODULE_1__.addElement)('.tab-garage', 'div', 'tab-garage__caption-wrap', '');\r\n  (0,_libs_lib_ui__WEBPACK_IMPORTED_MODULE_1__.addElement)('.tab-garage__caption-wrap', 'div', 'tab-caption tab-garage__caption', '');\r\n  (0,_libs_lib_ui__WEBPACK_IMPORTED_MODULE_1__.addElement)('.tab-garage__caption', 'span', 'tab-caption__text tab-garage__caption-text', null, 'garage');\r\n  (0,_libs_lib_ui__WEBPACK_IMPORTED_MODULE_1__.addElement)('.tab-garage__caption', 'span', 'tab-caption__count tab-garage__cars-count', null, '0');\r\n  (0,_libs_lib_ui__WEBPACK_IMPORTED_MODULE_1__.addElement)('.tab-garage__caption-wrap', 'x-stopwatch', 'race-stopwatch');\r\n  (0,_libs_lib_ui__WEBPACK_IMPORTED_MODULE_1__.addElement)('.tab-garage', 'div', 'race-area page', '');\r\n  addPageControl('garage');\r\n}\r\n\r\nfunction initWinners() {\r\n  (0,_libs_lib_ui__WEBPACK_IMPORTED_MODULE_1__.addElement)('.tab-winners', 'div', 'tab-caption tab-winners__caption');\r\n  (0,_libs_lib_ui__WEBPACK_IMPORTED_MODULE_1__.addElement)('.tab-winners__caption', 'span', 'tab-caption__text tab-winners__caption-text', null, 'winners');\r\n  (0,_libs_lib_ui__WEBPACK_IMPORTED_MODULE_1__.addElement)('.tab-winners__caption', 'span', 'tab-caption__count tab-winners__cars-count', null, '0');\r\n  (0,_libs_lib_ui__WEBPACK_IMPORTED_MODULE_1__.addElement)('.tab-winners', 'table', 'winners-table-wrap');\r\n  (0,_libs_lib_ui__WEBPACK_IMPORTED_MODULE_1__.addElement)('.winners-table-wrap', 'table', 'winners-table');\r\n  (0,_libs_lib_ui__WEBPACK_IMPORTED_MODULE_1__.addElement)('.winners-table', 'thead', 'winners-table__header');\r\n  (0,_libs_lib_ui__WEBPACK_IMPORTED_MODULE_1__.addElement)('.winners-table__header', 'tr', 'winners-table__header-row');\r\n  (0,_libs_lib_ui__WEBPACK_IMPORTED_MODULE_1__.addElement)('.winners-table', 'tbody', 'winners-table__body page');\r\n  ['#', 'car'].forEach((caption) => (0,_libs_lib_ui__WEBPACK_IMPORTED_MODULE_1__.addElement)('.winners-table__header-row', 'th', 'winners-table__header-cell', null, caption));\r\n  (0,_libs_lib_ui__WEBPACK_IMPORTED_MODULE_1__.addElement)('.winners-table__header-row', 'th', 'winners-table__header-cell', null, 'name', { name: 'data-name', value: '' });\r\n  (0,_libs_lib_ui__WEBPACK_IMPORTED_MODULE_1__.addElement)('.winners-table__header-row', 'th', 'winners-table__header-cell', null, null, [{ name: 'data-sort', value: 'wins' }, { name: 'data-order', value: 'ASC' }]);\r\n  (0,_libs_lib_ui__WEBPACK_IMPORTED_MODULE_1__.addElement)('.winners-table__header-cell[data-sort=\"wins\"]', 'div', 'winners-table__header-cell-content', null, 'wins');\r\n  (0,_libs_lib_ui__WEBPACK_IMPORTED_MODULE_1__.addElement)('.winners-table__header-cell[data-sort=\"wins\"] .winners-table__header-cell-content', 'img', 'sort-arrow', null, null, { name: 'src', value: './images/arrow-up.svg' });\r\n  (0,_libs_lib_ui__WEBPACK_IMPORTED_MODULE_1__.addElement)('.winners-table__header-row', 'th', 'winners-table__header-cell', null, null, { name: 'data-sort', value: 'time' });\r\n  (0,_libs_lib_ui__WEBPACK_IMPORTED_MODULE_1__.addElement)('.winners-table__header-cell[data-sort=\"time\"]', 'div', 'winners-table__header-cell-content', null, 'time (sec)');\r\n  (0,_libs_lib_ui__WEBPACK_IMPORTED_MODULE_1__.addElement)('.winners-table__header-cell[data-sort=\"time\"] .winners-table__header-cell-content', 'img', 'sort-arrow', null, null, { name: 'src', value: './images/arrow-up.svg' });\r\n  addPageControl('winners');\r\n}\r\n\r\nfunction initStates() {\r\n  (0,_libs_lib_ui__WEBPACK_IMPORTED_MODULE_1__.setDisabled)('.new-car__button_create');\r\n  disableUpdateBlock();\r\n  (0,_libs_lib_ui__WEBPACK_IMPORTED_MODULE_1__.setDisabled)('.controls__race-button');\r\n  (0,_libs_lib_ui__WEBPACK_IMPORTED_MODULE_1__.setDisabled)('.controls__reset-button');\r\n  document.querySelectorAll('.page-controls__button').forEach((button) => {\r\n    (0,_libs_lib_ui__WEBPACK_IMPORTED_MODULE_1__.setDisabled)(button);\r\n  });\r\n}\r\n\r\nfunction initCustom() {\r\n  customElements.define('x-stopwatch', _components_stopwatch__WEBPACK_IMPORTED_MODULE_2__[\"default\"]);\r\n}\r\n\r\nfunction initUi() {\r\n  initBody();\r\n  initCustom();\r\n  initTabs();\r\n  initControlPanel();\r\n  initGarage();\r\n  initWinners();\r\n  initStates();\r\n  initListeners();\r\n}\r\n\r\nfunction setTabActive(tab) {\r\n  document.querySelectorAll('.tab').forEach((curTab) => (curTab.id === tab ? (0,_libs_lib_ui__WEBPACK_IMPORTED_MODULE_1__.showElement)(`#${curTab}`) : (0,_libs_lib_ui__WEBPACK_IMPORTED_MODULE_1__.hideElement)(`#${curTab}`)));\r\n}\r\n\r\n\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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SCw2Q0FBNkM7QUFDbEwsRUFBRSx3REFBVSxpRkFBaUYsa0NBQWtDO0FBQy9ILEVBQUUsd0RBQVU7QUFDWixFQUFFLHdEQUFVLHlIQUF5SCw2Q0FBNkM7QUFDbEw7QUFDQTtBQUNBO0FBQ0E7QUFDQSxFQUFFLHlEQUFXO0FBQ2I7QUFDQSxFQUFFLHlEQUFXO0FBQ2IsRUFBRSx5REFBVztBQUNiO0FBQ0EsSUFBSSx5REFBVztBQUNmLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQSx1Q0FBdUMsNkRBQVM7QUFDaEQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDZFQUE2RSx5REFBVyxLQUFLLE9BQU8sS0FBSyx5REFBVyxLQUFLLE9BQU87QUFDaEk7QUFDQTtBQXFCRSIsInNvdXJjZXMiOlsid2VicGFjazovL2FzeW5jLXJhY2UvLi9zcmMvbW9kdWxlcy91aS5qcz8xMmJjIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IHJnYlRvSGV4IH0gZnJvbSAnLi9saWJzL2NvbW1vbic7XHJcbmltcG9ydCB7XHJcbiAgc2V0RWxlbWVudEF0dHJpYnV0ZSxcclxuICBnZXRFbGVtZW50QXR0cmlidXRlLFxyXG4gIHJlbW92ZUVsZW1lbnRBdHRyaWJ1dGUsXHJcbiAgc2V0RGlzYWJsZWQsXHJcbiAgc2V0RW5hYmxlZCxcclxuICBzaG93RWxlbWVudCxcclxuICBoaWRlRWxlbWVudCxcclxuICBjcmVhdGVFbGVtZW50LFxyXG4gIGFkZEVsZW1lbnQsXHJcbiAgbG9hZFN2ZyxcclxufSBmcm9tICcuL2xpYnMvbGliX3VpJztcclxuaW1wb3J0IFN0b3B3YXRjaCBmcm9tICcuL2NvbXBvbmVudHMvc3RvcHdhdGNoJztcclxuXHJcbmNvbnN0IG1haW5UYWJzID0gWydnYXJhZ2UnLCAnd2lubmVycyddO1xyXG5sZXQgZGVsZXRlQ2FyQ2FsbGJhY2s7XHJcbmxldCBzdGFydENhckNhbGxiYWNrO1xyXG5sZXQgcmVzZXRDYXJDYWxsYmFjaztcclxuXHJcbmNvbnN0IGRpc2FibGVCdXR0b25OZXh0ID0gKHRhYk5hbWUpID0+IHNldERpc2FibGVkKGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoYC50YWItJHt0YWJOYW1lfSAucGFnZS1jb250cm9sc19fYnV0dG9uX25leHRgKSk7XHJcbmNvbnN0IGRpc2FibGVCdXR0b25QcmV2aW91cyA9ICh0YWJOYW1lKSA9PiBzZXREaXNhYmxlZChkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGAudGFiLSR7dGFiTmFtZX0gLnBhZ2UtY29udHJvbHNfX2J1dHRvbl9wcmV2YCkpO1xyXG5jb25zdCBlbmFibGVCdXR0b25OZXh0ID0gKHRhYk5hbWUpID0+IHNldEVuYWJsZWQoZG9jdW1lbnQucXVlcnlTZWxlY3RvcihgLnRhYi0ke3RhYk5hbWV9IC5wYWdlLWNvbnRyb2xzX19idXR0b25fbmV4dGApKTtcclxuY29uc3QgZW5hYmxlQnV0dG9uUHJldmlvdXMgPSAodGFiTmFtZSkgPT4gc2V0RW5hYmxlZChkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGAudGFiLSR7dGFiTmFtZX0gLnBhZ2UtY29udHJvbHNfX2J1dHRvbl9wcmV2YCkpO1xyXG5cclxuZnVuY3Rpb24gZW5hYmxlUGFnZUNvbnRyb2xzKHRhYk5hbWUpIHtcclxuICBjb25zdCBwYWdlQ29udHJvbCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoYC50YWItJHt0YWJOYW1lfV9fcGFnZS1jb250cm9sc2ApO1xyXG4gIGNvbnN0IGN1cnJlbnRQYWdlID0gK3BhZ2VDb250cm9sLnF1ZXJ5U2VsZWN0b3IoJy5wYWdlLWNvbnRyb2xzX19udW1iZXInKS50ZXh0Q29udGVudDtcclxuICBjb25zdCBwYWdlc0NvdW50ID0gK3BhZ2VDb250cm9sLmRhdGFzZXQuY291bnQ7XHJcblxyXG4gIGlmIChjdXJyZW50UGFnZSA9PT0gcGFnZXNDb3VudCkge1xyXG4gICAgZGlzYWJsZUJ1dHRvbk5leHQodGFiTmFtZSk7XHJcbiAgfSBlbHNlIHtcclxuICAgIGVuYWJsZUJ1dHRvbk5leHQodGFiTmFtZSk7XHJcbiAgfVxyXG5cclxuICBpZiAoY3VycmVudFBhZ2UgPT09IDEpIHtcclxuICAgIGRpc2FibGVCdXR0b25QcmV2aW91cyh0YWJOYW1lKTtcclxuICB9IGVsc2Uge1xyXG4gICAgZW5hYmxlQnV0dG9uUHJldmlvdXModGFiTmFtZSk7XHJcbiAgfVxyXG59XHJcblxyXG5mdW5jdGlvbiBzZXRQYWdlQ29udHJvbHModGFiTmFtZSwgY3VycmVudFBhZ2UsIHBhZ2VzQ291bnQpIHtcclxuICBjb25zdCBwYWdlQ29udHJvbCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoYC50YWItJHt0YWJOYW1lfV9fcGFnZS1jb250cm9sc2ApO1xyXG4gIHBhZ2VDb250cm9sLnF1ZXJ5U2VsZWN0b3IoJy5wYWdlLWNvbnRyb2xzX19udW1iZXInKS50ZXh0Q29udGVudCA9IGN1cnJlbnRQYWdlO1xyXG4gIHNldEVsZW1lbnRBdHRyaWJ1dGUocGFnZUNvbnRyb2wsICdkYXRhLWNvdW50JywgcGFnZXNDb3VudCk7XHJcbiAgZW5hYmxlUGFnZUNvbnRyb2xzKHRhYk5hbWUpO1xyXG59XHJcblxyXG5mdW5jdGlvbiBkaXNhYmxlUGFnZUNvbnRyb2xzKHRhYk5hbWUpIHtcclxuICBkaXNhYmxlQnV0dG9uTmV4dCh0YWJOYW1lKTtcclxuICBkaXNhYmxlQnV0dG9uUHJldmlvdXModGFiTmFtZSk7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIHJ1blN0b3B3YXRjaCgpIHtcclxuICBzZXRFbGVtZW50QXR0cmlidXRlKCcucmFjZS1zdG9wd2F0Y2gnLCAnc3RhdGUnLCAncnVuJyk7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIHN0b3BTdG9wd2F0Y2goKSB7XHJcbiAgc2V0RWxlbWVudEF0dHJpYnV0ZSgnLnJhY2Utc3RvcHdhdGNoJywgJ3N0YXRlJywgJ3N0b3AnKTtcclxuICByZXR1cm4gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnJhY2Utc3RvcHdhdGNoJykudmFsdWUgLyAxMDA7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIHJlc2V0U3RvcHdhdGNoKCkge1xyXG4gIHNldEVsZW1lbnRBdHRyaWJ1dGUoJy5yYWNlLXN0b3B3YXRjaCcsICdzdGF0ZScsICdyZXNldCcpO1xyXG59XHJcblxyXG5mdW5jdGlvbiBzZXRDYXJDb2xvcihwYWdlQ2xhc3NOYW1lLCBpZCwgY29sb3IpIHtcclxuICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGAuJHtwYWdlQ2xhc3NOYW1lfSAucGFnZV9faXRlbVtkYXRhLWlkPVwiJHtpZH1cIl0gLmNhcl9fYm9keWApLnN0eWxlLmZpbGwgPSBjb2xvcjtcclxufVxyXG5cclxuZnVuY3Rpb24gdXBkYXRlQ2FyKHtcclxuICBpZCwgbmFtZSwgY29sb3IsIHdpbnMsIHRpbWUsXHJcbn0pIHtcclxuICBtYWluVGFicy5mb3JFYWNoKCh0YWIpID0+IHtcclxuICAgIGNvbnN0IHBhZ2VJdGVtID0gYC50YWItJHt0YWJ9IC5wYWdlX19pdGVtW2RhdGEtaWQ9XCIke2lkfVwiXWA7XHJcbiAgICBpZiAoZG9jdW1lbnQucXVlcnlTZWxlY3RvcihwYWdlSXRlbSkpIHtcclxuICAgICAgc2V0Q2FyQ29sb3IoYHRhYi0ke3RhYn1gLCBpZCwgY29sb3IpO1xyXG4gICAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGAke3BhZ2VJdGVtfSAucGFnZV9fY2FyLW5hbWVgKS50ZXh0Q29udGVudCA9IG5hbWU7XHJcbiAgICAgIGlmIChkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGAke3BhZ2VJdGVtfSAucGFnZV9fd2luc2ApICYmIHdpbnMpIHtcclxuICAgICAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGAke3BhZ2VJdGVtfSAucGFnZV9fd2luc2ApLnRleHRDb250ZW50ID0gd2lucztcclxuICAgICAgfVxyXG4gICAgICBpZiAoZG9jdW1lbnQucXVlcnlTZWxlY3RvcihgJHtwYWdlSXRlbX0gLnBhZ2VfX3RpbWVgKSAmJiB0aW1lKSB7XHJcbiAgICAgICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcihgJHtwYWdlSXRlbX0gLnBhZ2VfX3RpbWVgKS50ZXh0Q29udGVudCA9IHRpbWU7XHJcbiAgICAgIH1cclxuICAgIH1cclxuICB9KTtcclxufVxyXG5cclxuZnVuY3Rpb24gZW5hYmxlVXBkYXRlQmxvY2soKSB7XHJcbiAgc2V0RW5hYmxlZCgnLnVwZGF0ZS1jYXJfX2J1dHRvbl91cGRhdGUnKTtcclxuICBzZXRFbmFibGVkKCcudXBkYXRlLWNhcl9fbmFtZScpO1xyXG4gIHNldEVuYWJsZWQoJy51cGRhdGUtY2FyX19idXR0b25fY29sb3InKTtcclxufVxyXG5cclxuZnVuY3Rpb24gZGlzYWJsZVVwZGF0ZUJsb2NrKCkge1xyXG4gIHNldERpc2FibGVkKCcudXBkYXRlLWNhcl9fYnV0dG9uX3VwZGF0ZScpO1xyXG4gIHNldERpc2FibGVkKCcudXBkYXRlLWNhcl9fbmFtZScpO1xyXG4gIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy51cGRhdGUtY2FyX19uYW1lJykudmFsdWUgPSAnJztcclxuICBzZXREaXNhYmxlZCgnLnVwZGF0ZS1jYXJfX2J1dHRvbl9jb2xvcicpO1xyXG4gIHJlbW92ZUVsZW1lbnRBdHRyaWJ1dGUoJy51cGRhdGUtY2FyJywgJ2RhdGEtY2FyLWlkJyk7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIHNlbGVjdENhcihpZCkge1xyXG4gIGNvbnN0IHJhY2UgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGAucmFjZVtkYXRhLWlkPVwiJHtpZH1cIl1gKTtcclxuICBlbmFibGVVcGRhdGVCbG9jaygpO1xyXG4gIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy51cGRhdGUtY2FyX19uYW1lJykudmFsdWUgPSByYWNlLnF1ZXJ5U2VsZWN0b3IoJy5yYWNlX19jYXItbmFtZScpLnRleHRDb250ZW50O1xyXG4gIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy51cGRhdGUtY2FyX19idXR0b25fY29sb3InKS52YWx1ZSA9IHJnYlRvSGV4KHJhY2UucXVlcnlTZWxlY3RvcignLmNhcl9fYm9keScpLnN0eWxlLmZpbGwpO1xyXG4gIHNldEVsZW1lbnRBdHRyaWJ1dGUoJy51cGRhdGUtY2FyJywgJ2RhdGEtY2FyLWlkJywgaWQpO1xyXG59XHJcblxyXG5mdW5jdGlvbiBzZXRDb3VudCh0YWIsIGNvdW50KSB7XHJcbiAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcihgLnRhYi0ke3RhYn1fX2NhcnMtY291bnRgKS50ZXh0Q29udGVudCA9IGNvdW50O1xyXG59XHJcblxyXG5mdW5jdGlvbiBzZXRHYXJhZ2VDb3VudChjb3VudCkge1xyXG4gIHNldENvdW50KCdnYXJhZ2UnLCBjb3VudCk7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIHNldFdpbm5lcnNDb3VudChjb3VudCkge1xyXG4gIHNldENvdW50KCd3aW5uZXJzJywgY291bnQpO1xyXG59XHJcblxyXG5mdW5jdGlvbiBzZXRQYWdlKHBhZ2VOYW1lLCBwYWdlTnVtLCBwYWdlc0NvdW50LCBjYXJzLCBhZGRDYXJDYWxsYmFjaykge1xyXG4gIGNvbnN0IGl0ZW1zID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChgLnRhYi0ke3BhZ2VOYW1lfSAucGFnZV9faXRlbWApO1xyXG4gIGlmIChjYXJzLmxlbmd0aCA+IGl0ZW1zLmxlbmd0aCkge1xyXG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBjYXJzLmxlbmd0aDsgaSArPSAxKSB7XHJcbiAgICAgIGlmIChpIDwgaXRlbXMubGVuZ3RoKSB7XHJcbiAgICAgICAgaXRlbXNbaV0uZGF0YXNldC5pZCA9IGNhcnNbaV0uaWQ7XHJcbiAgICAgICAgdXBkYXRlQ2FyKGNhcnNbaV0pO1xyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgIGFkZENhckNhbGxiYWNrKGNhcnNbaV0pO1xyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgfSBlbHNlIGlmIChjYXJzLmxlbmd0aCA8IGl0ZW1zLmxlbmd0aCkge1xyXG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBpdGVtcy5sZW5ndGg7IGkgKz0gMSkge1xyXG4gICAgICBpZiAoaSA8IGNhcnMubGVuZ3RoKSB7XHJcbiAgICAgICAgaXRlbXNbaV0uZGF0YXNldC5pZCA9IGNhcnNbaV0uaWQ7XHJcbiAgICAgICAgdXBkYXRlQ2FyKGNhcnNbaV0pO1xyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgIGl0ZW1zW2ldLnJlbW92ZSgpO1xyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgfSBlbHNlIHtcclxuICAgIGl0ZW1zLmZvckVhY2goKHJhY2UsIGkpID0+IHtcclxuICAgICAgY29uc3QgY3VycmVudFJhY2UgPSByYWNlO1xyXG4gICAgICBjdXJyZW50UmFjZS5kYXRhc2V0LmlkID0gY2Fyc1tpXS5pZDtcclxuICAgICAgdXBkYXRlQ2FyKGNhcnNbaV0pO1xyXG4gICAgfSk7XHJcbiAgfVxyXG4gIHNldFBhZ2VDb250cm9scyhwYWdlTmFtZSwgcGFnZU51bSwgcGFnZXNDb3VudCk7XHJcblxyXG4gIGNvbnN0IHVwZGF0ZUNhcklkID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnVwZGF0ZS1jYXInKS5kYXRhc2V0LmNhcklkO1xyXG4gIGxldCBpZEZvdW5kID0gZmFsc2U7XHJcbiAgZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLnJhY2UnKS5mb3JFYWNoKChyYWNlKSA9PiB7XHJcbiAgICBpZiAocmFjZS5kYXRhc2V0LmlkID09PSB1cGRhdGVDYXJJZCkgaWRGb3VuZCA9IHRydWU7XHJcbiAgfSk7XHJcbiAgaWYgKCFpZEZvdW5kKSBkaXNhYmxlVXBkYXRlQmxvY2soKTtcclxufVxyXG5cclxuYXN5bmMgZnVuY3Rpb24gYWRkQ2FyVG9XaW5uZXJzKHtcclxuICBpZCwgdGltZSwgd2lucywgbmFtZSwgY29sb3IsXHJcbn0pIHtcclxuICBjb25zdCBjYXJJbWcgPSBhd2FpdCBsb2FkU3ZnKCcuL2ltYWdlcy9jYXIuc3ZnJykudGhlbigoZGF0YSkgPT4gZGF0YSk7XHJcbiAgY29uc3QgZWxlbWVudE51bWJlciA9IChkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcud2lubmVycy10YWJsZV9fYm9keScpLmNoaWxkcmVuLmxlbmd0aCArIDEpICogKCtkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcudGFiLXdpbm5lcnNfX3BhZ2UtbnVtYmVyJykudGV4dENvbnRlbnQpO1xyXG4gIGNvbnN0IGlkUm93ID0gYC53aW5uZXJzLXRhYmxlX19yb3dbZGF0YS1pZD1cIiR7aWR9XCJdYDtcclxuICBhZGRFbGVtZW50KCcud2lubmVycy10YWJsZV9fYm9keScsICd0cicsICd3aW5uZXJzLXRhYmxlX19yb3cgcGFnZV9faXRlbScsIG51bGwsIG51bGwsIHsgbmFtZTogJ2RhdGEtaWQnLCB2YWx1ZTogaWQgfSk7XHJcbiAgYWRkRWxlbWVudChpZFJvdywgJ3RkJywgJ3dpbm5lcnMtdGFibGVfX2NlbGwnLCBudWxsLCBlbGVtZW50TnVtYmVyLCB7IG5hbWU6ICdkYXRhLXR5cGUnLCB2YWx1ZTogJ251bWJlcicgfSk7XHJcbiAgYWRkRWxlbWVudChpZFJvdywgJ3RkJywgJ3dpbm5lcnMtdGFibGVfX2NlbGwgcGFnZV9fY2FyJywgbnVsbCwgbnVsbCwgeyBuYW1lOiAnZGF0YS10eXBlJywgdmFsdWU6ICdpbWFnZScgfSk7XHJcbiAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcihgLndpbm5lcnMtdGFibGVfX3Jvd1tkYXRhLWlkPVwiJHtpZH1cIl0gLndpbm5lcnMtdGFibGVfX2NlbGxbZGF0YS10eXBlPVwiaW1hZ2VcIl1gKS5pbm5lckhUTUwgPSBjYXJJbWc7XHJcbiAgc2V0Q2FyQ29sb3IoJ3RhYi13aW5uZXJzJywgaWQsIGNvbG9yKTtcclxuICBhZGRFbGVtZW50KGlkUm93LCAndGQnLCAnd2lubmVycy10YWJsZV9fY2VsbCBwYWdlX19jYXItbmFtZScsIG51bGwsIG5hbWUsIHsgbmFtZTogJ2RhdGEtdHlwZScsIHZhbHVlOiAnbmFtZScgfSk7XHJcbiAgYWRkRWxlbWVudChpZFJvdywgJ3RkJywgJ3dpbm5lcnMtdGFibGVfX2NlbGwgcGFnZV9fd2lucycsIG51bGwsIHdpbnMsIHsgbmFtZTogJ2RhdGEtdHlwZScsIHZhbHVlOiAnd2lucycgfSk7XHJcbiAgYWRkRWxlbWVudChpZFJvdywgJ3RkJywgJ3dpbm5lcnMtdGFibGVfX2NlbGwgcGFnZV9fdGltZScsIG51bGwsIHRpbWUsIHsgbmFtZTogJ2RhdGEtdHlwZScsIHZhbHVlOiAndGltZScgfSk7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIHNldFdpbm5lcnNQYWdlKHBhZ2VOdW0sIG1heENhcnNPblBhZ2UsIHBhZ2VzQ291bnQsIGNhcnMpIHtcclxuICBzZXRQYWdlKCd3aW5uZXJzJywgcGFnZU51bSwgcGFnZXNDb3VudCwgY2FycywgYWRkQ2FyVG9XaW5uZXJzKTtcclxuICBjb25zdCBzdGFydE51bWJlciA9IChwYWdlTnVtIC0gMSkgKiBtYXhDYXJzT25QYWdlICsgMTtcclxuICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcud2lubmVycy10YWJsZV9fcm93JykuZm9yRWFjaCgocm93LCBpbmRleCkgPT4ge1xyXG4gICAgY29uc3QgbnVtYmVyQ2VsbCA9IHJvdy5xdWVyeVNlbGVjdG9yKCcud2lubmVycy10YWJsZV9fY2VsbFtkYXRhLXR5cGU9XCJudW1iZXJcIl0nKTtcclxuICAgIG51bWJlckNlbGwudGV4dENvbnRlbnQgPSBzdGFydE51bWJlciArIGluZGV4O1xyXG4gIH0pO1xyXG59XHJcblxyXG5mdW5jdGlvbiBhbmltYXRlQ2FyRHJpdmUoeyBpZCwgZHJhdywgZHVyYXRpb24gfSkge1xyXG4gIGNvbnN0IHN0YXJ0ID0gcGVyZm9ybWFuY2Uubm93KCk7XHJcbiAgcmV0dXJuIHJlcXVlc3RBbmltYXRpb25GcmFtZShmdW5jdGlvbiBhbmltYXRlKHRpbWUpIHtcclxuICAgIGxldCB0aW1lRnJhY3Rpb24gPSAodGltZSAtIHN0YXJ0KSAvIGR1cmF0aW9uO1xyXG4gICAgaWYgKHRpbWVGcmFjdGlvbiA+IDEpIHRpbWVGcmFjdGlvbiA9IDE7XHJcbiAgICBkcmF3KHRpbWVGcmFjdGlvbik7XHJcbiAgICBpZiAodGltZUZyYWN0aW9uIDwgMSkge1xyXG4gICAgICBjb25zdCBhbmltYXRpb25JZCA9IHJlcXVlc3RBbmltYXRpb25GcmFtZShhbmltYXRlKTtcclxuICAgICAgY29uc3QgcmFjZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoYC5yYWNlW2RhdGEtaWQ9XCIke2lkfVwiXWApO1xyXG4gICAgICBzZXRFbGVtZW50QXR0cmlidXRlKHJhY2UsICdkYXRhLWFuaW1hdGlvbi1pZCcsIGFuaW1hdGlvbklkKTtcclxuICAgIH1cclxuICB9KTtcclxufVxyXG5cclxuZnVuY3Rpb24gbm9DYXJzRHJpdmluZygpIHtcclxuICBjb25zdCByYWNlcyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5yYWNlJyk7XHJcbiAgZm9yIChsZXQgaSA9IDA7IGkgPCByYWNlcy5sZW5ndGg7IGkgKz0gMSkge1xyXG4gICAgaWYgKHJhY2VzW2ldLmRhdGFzZXQuc3RhdGUgIT09ICdyZXNldCcpIHJldHVybiBmYWxzZTtcclxuICB9XHJcbiAgcmV0dXJuIHRydWU7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIGRyaXZlQ2FyKGlkLCB7IHZlbG9jaXR5LCBkaXN0YW5jZSB9KSB7XHJcbiAgY29uc3QgcmFjZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoYC5yYWNlW2RhdGEtaWQ9XCIke2lkfVwiXWApO1xyXG4gIGlmICghcmFjZSkgcmV0dXJuO1xyXG4gIGNvbnN0IGNhciA9IHJhY2UucXVlcnlTZWxlY3RvcignLnJhY2VfX2NhcicpO1xyXG4gIHNldEVuYWJsZWQocmFjZS5xdWVyeVNlbGVjdG9yKCcucmFjZV9fY29udHJvbF9zdG9wJykpO1xyXG4gIHNldEVuYWJsZWQoZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmNvbnRyb2xzX19yZXNldC1idXR0b24nKSk7XHJcbiAgY29uc3QgZHVyYXRpb24gPSBkaXN0YW5jZSAvIHZlbG9jaXR5OyAvLyBtaWxsaXNlY29uZHNcclxuICBjb25zdCB3aGVlbHMgPSBjYXIucXVlcnlTZWxlY3RvckFsbCgnLmNhcl9fd2hlZWwnKTtcclxuICBmb3IgKGxldCBpID0gMDsgaSA8IHdoZWVscy5sZW5ndGg7IGkgKz0gMSkge1xyXG4gICAgd2hlZWxzW2ldLnN0eWxlLnRyYW5zaXRpb25EdXJhdGlvbiA9IGAke01hdGgucm91bmQoZHVyYXRpb24pfW1zYDtcclxuICB9XHJcbiAgY29uc3QgYm9keUNvbnRlbnQgPSB3aW5kb3cuZ2V0Q29tcHV0ZWRTdHlsZShkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuYm9keV9fY29udGVudCcpKTtcclxuICBjb25zdCBwYWRkaW5nID0gcGFyc2VJbnQoYm9keUNvbnRlbnQucGFkZGluZ0xlZnQsIDEwKTtcclxuICBjb25zdCBkcml2ZURpc3RhbmNlID0gcGFyc2VJbnQoYm9keUNvbnRlbnQud2lkdGgsIDEwKSAtIHBhZGRpbmcgKiAyXHJcbiAgICAtIHBhcnNlSW50KHdpbmRvdy5nZXRDb21wdXRlZFN0eWxlKGNhcikud2lkdGgsIDEwKTtcclxuICBjb25zdCBzdGFydCA9IHBhZGRpbmc7XHJcblxyXG4gIGNvbnN0IGFuaW1hdGlvbklkID0gYW5pbWF0ZUNhckRyaXZlKHtcclxuICAgIGlkLFxyXG4gICAgZHVyYXRpb24sXHJcbiAgICBkcmF3KHByb2dyZXNzKSB7XHJcbiAgICAgIGNhci5zdHlsZS5sZWZ0ID0gYCR7c3RhcnQgKyBwcm9ncmVzcyAqIGRyaXZlRGlzdGFuY2V9cHhgO1xyXG4gICAgfSxcclxuICB9KTtcclxuICBzZXRFbGVtZW50QXR0cmlidXRlKHJhY2UsICdkYXRhLWFuaW1hdGlvbi1pZCcsIGFuaW1hdGlvbklkKTtcclxuICBzZXRFbGVtZW50QXR0cmlidXRlKHJhY2UsICdkYXRhLXN0YXRlJywgJ2RyaXZlJyk7XHJcbiAgY2FyLmNsYXNzTGlzdC5hZGQoJ3JhY2UtYW5pbWF0aW9uJyk7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIHN0b3BDYXIoaWQpIHtcclxuICBjb25zdCByYWNlID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihgLnJhY2VbZGF0YS1pZD1cIiR7aWR9XCJdYCk7XHJcbiAgaWYgKCFyYWNlKSByZXR1cm47XHJcbiAgY29uc3QgY2FyID0gcmFjZS5xdWVyeVNlbGVjdG9yKCcucmFjZV9fY2FyJyk7XHJcbiAgY2FyLnN0eWxlLnRyYW5zaXRpb25EdXJhdGlvbiA9ICcnO1xyXG4gIGNvbnN0IHdoZWVscyA9IGNhci5xdWVyeVNlbGVjdG9yQWxsKCcuY2FyX193aGVlbCcpO1xyXG4gIGZvciAobGV0IGkgPSAwOyBpIDwgd2hlZWxzLmxlbmd0aDsgaSArPSAxKSB7XHJcbiAgICB3aGVlbHNbaV0uc3R5bGUudHJhbnNpdGlvbkR1cmF0aW9uID0gJyc7XHJcbiAgfVxyXG4gIGNhbmNlbEFuaW1hdGlvbkZyYW1lKCtyYWNlLmRhdGFzZXQuYW5pbWF0aW9uSWQpO1xyXG4gIGNhci5jbGFzc0xpc3QucmVtb3ZlKCdyYWNlLWFuaW1hdGlvbicpO1xyXG4gIHNldEVuYWJsZWQocmFjZS5xdWVyeVNlbGVjdG9yKCcucmFjZV9fYnV0dG9uX3JlbW92ZScpKTtcclxuICBzZXRFbmFibGVkKHJhY2UucXVlcnlTZWxlY3RvcignLnJhY2VfX2J1dHRvbl9zZWxlY3QnKSk7XHJcbiAgc2V0RWxlbWVudEF0dHJpYnV0ZShyYWNlLCAnZGF0YS1zdGF0ZScsICdzdG9wcGVkJyk7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIHJlc2V0Q2FyKGlkKSB7XHJcbiAgY29uc3QgcmFjZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoYC5yYWNlW2RhdGEtaWQ9XCIke2lkfVwiXWApO1xyXG4gIGlmICghcmFjZSkgcmV0dXJuO1xyXG4gIGNvbnN0IGNhciA9IHJhY2UucXVlcnlTZWxlY3RvcignLnJhY2VfX2NhcicpO1xyXG4gIHNldEVuYWJsZWQocmFjZS5xdWVyeVNlbGVjdG9yKCcucmFjZV9fY29udHJvbF9zdGFydCcpKTtcclxuICBzZXREaXNhYmxlZChyYWNlLnF1ZXJ5U2VsZWN0b3IoJy5yYWNlX19jb250cm9sX3N0b3AnKSk7XHJcbiAgc3RvcENhcihpZCk7XHJcbiAgY2FyLnN0eWxlLmxlZnQgPSAnJztcclxuICBzZXRFbGVtZW50QXR0cmlidXRlKHJhY2UsICdkYXRhLXN0YXRlJywgJ3Jlc2V0Jyk7XHJcbiAgaWYgKG5vQ2Fyc0RyaXZpbmcoKSkge1xyXG4gICAgc2V0RW5hYmxlZChkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuY29udHJvbHNfX3JhY2UtYnV0dG9uJykpO1xyXG4gICAgZW5hYmxlUGFnZUNvbnRyb2xzKCdnYXJhZ2UnKTtcclxuICAgIHNldERpc2FibGVkKGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5jb250cm9sc19fcmVzZXQtYnV0dG9uJykpO1xyXG4gICAgcmVzZXRTdG9wd2F0Y2goKTtcclxuICAgIHNldEVuYWJsZWQoZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmNvbnRyb2xzX19nZW5lcmF0ZS1idXR0b24nKSk7XHJcbiAgfVxyXG59XHJcblxyXG5mdW5jdGlvbiBzaG93UG9wdXAoY29udGVudCkge1xyXG4gIGxldCBwb3B1cCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5wb3B1cCcpO1xyXG4gIGlmIChwb3B1cCkge1xyXG4gICAgcG9wdXAucmVtb3ZlKCk7XHJcbiAgfVxyXG4gIGFkZEVsZW1lbnQoJy5ib2R5X19jb250ZW50JywgJ2RpdicsICdwb3B1cCcpO1xyXG4gIGFkZEVsZW1lbnQoJy5wb3B1cCcsICdkaXYnLCAncG9wdXBfX2NvbnRlbnQnKTtcclxuICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcucG9wdXBfX2NvbnRlbnQnKS5pbm5lckhUTUwgPSBjb250ZW50LmlubmVySFRNTDtcclxuICBhZGRFbGVtZW50KCcucG9wdXBfX2NvbnRlbnQnLCAnYnV0dG9uJywgJ2J1dHRvbiBidXR0b25fYmxhY2sgcG9wdXBfX2Nsb3NlLWJ1dHRvbicsIG51bGwsICdjbG9zZScpO1xyXG4gIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5wb3B1cF9fY2xvc2UtYnV0dG9uJykub25jbGljayA9ICgpID0+IHtcclxuICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5wb3B1cCcpLm9udHJhbnNpdGlvbmVuZCA9ICgpID0+IHtcclxuICAgICAgcG9wdXAgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcucG9wdXAnKTtcclxuICAgICAgaWYgKHBvcHVwKSB7XHJcbiAgICAgICAgcG9wdXAucmVtb3ZlKCk7XHJcbiAgICAgIH1cclxuICAgIH07XHJcbiAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcucG9wdXAnKS5jbGFzc0xpc3QucmVtb3ZlKCdzaG93LXBvcHVwJyk7XHJcbiAgfTtcclxuICBlbmFibGVQYWdlQ29udHJvbHMoJ2dhcmFnZScpO1xyXG4gIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5wb3B1cCcpLmNsYXNzTGlzdC5hZGQoJ3Nob3ctcG9wdXAnKTtcclxufVxyXG5cclxuZnVuY3Rpb24gc2hvd1dpbm5lclBvcHVwKHdpbm5lckRhdGEpIHtcclxuICBjb25zdCBjb250ZW50ID0gY3JlYXRlRWxlbWVudCgnZGl2Jyk7XHJcbiAgYWRkRWxlbWVudChjb250ZW50LCAnaW1nJywgJ3BvcHVwX19jdXAnLCBudWxsLCBudWxsLCB7IG5hbWU6ICdzcmMnLCB2YWx1ZTogJy4vaW1hZ2VzL2N1cC5zdmcnIH0pO1xyXG4gIGFkZEVsZW1lbnQoY29udGVudCwgJ2gyJywgJ3BvcHVwX19jYXB0aW9uJywgbnVsbCwgJ3dpbm5lcicpO1xyXG4gIGFkZEVsZW1lbnQoY29udGVudCwgJ3AnLCAncG9wdXBfX2Nhci1uYW1lJywgbnVsbCwgZG9jdW1lbnQucXVlcnlTZWxlY3RvcihgLnJhY2VbZGF0YS1pZD1cIiR7d2lubmVyRGF0YS5pZH1cIl0gLnJhY2VfX2Nhci1uYW1lYCkudGV4dENvbnRlbnQpO1xyXG4gIGFkZEVsZW1lbnQoY29udGVudCwgJ3AnLCAncG9wdXBfX3RpbWUnLCBudWxsLCBgVGltZTogJHt3aW5uZXJEYXRhLnRpbWUudG9GaXhlZCgyKX0gc2VjYCk7XHJcbiAgc2hvd1BvcHVwKGNvbnRlbnQpO1xyXG4gIHNldEVuYWJsZWQoJy5jb250cm9sc19fcmVzZXQtYnV0dG9uJyk7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIHNob3dSYWNlRmFpbFBvcHVwKG1lc3NhZ2UpIHtcclxuICBjb25zdCBjb250ZW50ID0gY3JlYXRlRWxlbWVudCgnZGl2Jyk7XHJcbiAgYWRkRWxlbWVudChjb250ZW50LCAnaDInLCAncG9wdXBfX2NhcHRpb24nLCBudWxsLCBtZXNzYWdlKTtcclxuICBzaG93UG9wdXAoY29udGVudCk7XHJcbiAgc2V0RW5hYmxlZCgnLmNvbnRyb2xzX19yZXNldC1idXR0b24nKTtcclxufVxyXG5cclxuZnVuY3Rpb24gc2V0R2FyYWdlTGlzdGVuZXJzKGN1cnJlbnRSYWNlKSB7XHJcbiAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcihgJHtjdXJyZW50UmFjZX0gLnJhY2VfX2J1dHRvbl9yZW1vdmVgKS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIChldmVudCkgPT4ge1xyXG4gICAgY29uc3QgY2FySWQgPSBldmVudC50YXJnZXQuY2xvc2VzdCgnLnJhY2UnKS5kYXRhc2V0LmlkO1xyXG4gICAgZGVsZXRlQ2FyQ2FsbGJhY2soY2FySWQpO1xyXG4gICAgY29uc3QgY3VyVXBkYXRlQ2FySWQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcudXBkYXRlLWNhcicpLmRhdGFzZXQuY2FySWQ7XHJcbiAgICBpZiAoY3VyVXBkYXRlQ2FySWQgPT09IGNhcklkKSB7XHJcbiAgICAgIGRpc2FibGVVcGRhdGVCbG9jaygpO1xyXG4gICAgfVxyXG4gIH0pO1xyXG5cclxuICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGAke2N1cnJlbnRSYWNlfSAucmFjZV9fYnV0dG9uX3NlbGVjdGApLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKGV2ZW50KSA9PiB7XHJcbiAgICBzZWxlY3RDYXIoZ2V0RWxlbWVudEF0dHJpYnV0ZShldmVudC50YXJnZXQuY2xvc2VzdCgnLnJhY2UnKSwgJ2RhdGEtaWQnKSk7XHJcbiAgfSk7XHJcblxyXG4gIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoYCR7Y3VycmVudFJhY2V9IC5yYWNlX19jb250cm9sX3N0YXJ0YCkuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoZXZlbnQpID0+IHtcclxuICAgIGNvbnN0IGNhcklkID0gZ2V0RWxlbWVudEF0dHJpYnV0ZShldmVudC50YXJnZXQuY2xvc2VzdCgnLnJhY2UnKSwgJ2RhdGEtaWQnKTtcclxuICAgIGNvbnN0IHJhY2UgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGAucmFjZVtkYXRhLWlkPVwiJHtjYXJJZH1cIl1gKTtcclxuICAgIHNldERpc2FibGVkKHJhY2UucXVlcnlTZWxlY3RvcignLnJhY2VfX2NvbnRyb2xfc3RhcnQnKSk7XHJcbiAgICBzZXREaXNhYmxlZChyYWNlLnF1ZXJ5U2VsZWN0b3IoJy5yYWNlX19idXR0b25fcmVtb3ZlJykpO1xyXG4gICAgc2V0RGlzYWJsZWQocmFjZS5xdWVyeVNlbGVjdG9yKCcucmFjZV9fYnV0dG9uX3NlbGVjdCcpKTtcclxuICAgIHNldERpc2FibGVkKGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5jb250cm9sc19fcmFjZS1idXR0b24nKSk7XHJcbiAgICBzZXREaXNhYmxlZChkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuY29udHJvbHNfX2dlbmVyYXRlLWJ1dHRvbicpKTtcclxuICAgIHN0YXJ0Q2FyQ2FsbGJhY2soY2FySWQpO1xyXG4gIH0pO1xyXG5cclxuICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGAke2N1cnJlbnRSYWNlfSAucmFjZV9fY29udHJvbF9zdG9wYCkuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoZXZlbnQpID0+IHtcclxuICAgIGNvbnN0IGNhcklkID0gZ2V0RWxlbWVudEF0dHJpYnV0ZShldmVudC50YXJnZXQuY2xvc2VzdCgnLnJhY2UnKSwgJ2RhdGEtaWQnKTtcclxuICAgIGNvbnN0IHJhY2UgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGAucmFjZVtkYXRhLWlkPVwiJHtjYXJJZH1cIl1gKTtcclxuICAgIHN0b3BDYXIoY2FySWQpO1xyXG4gICAgc2V0RGlzYWJsZWQocmFjZS5xdWVyeVNlbGVjdG9yKCcucmFjZV9fY29udHJvbF9zdG9wJykpO1xyXG4gICAgcmVzZXRDYXJDYWxsYmFjayhjYXJJZCk7XHJcbiAgfSk7XHJcbn1cclxuXHJcbmFzeW5jIGZ1bmN0aW9uIGFkZENhclRvR2FyYWdlKHsgaWQsIG5hbWUsIGNvbG9yIH0pIHtcclxuICBhZGRFbGVtZW50KCcucmFjZS1hcmVhJywgJ2RpdicsICdyYWNlIHBhZ2VfX2l0ZW0nLCBudWxsLCBudWxsLCB7IG5hbWU6ICdkYXRhLWlkJywgdmFsdWU6IGlkIH0pO1xyXG4gIGNvbnN0IGN1cnJlbnRSYWNlID0gYC5yYWNlW2RhdGEtaWQ9XCIke2lkfVwiXWA7XHJcbiAgYWRkRWxlbWVudChjdXJyZW50UmFjZSwgJ2RpdicsICdyYWNlX19idXR0b25zJyk7XHJcbiAgYWRkRWxlbWVudChgJHtjdXJyZW50UmFjZX0gLnJhY2VfX2J1dHRvbnNgLCAnYnV0dG9uJywgJ2J1dHRvbiBidXR0b25fYmxhY2sgcmFjZV9fYnV0dG9uIHJhY2VfX2J1dHRvbl9zZWxlY3QnLCBudWxsLCAnc2VsZWN0Jyk7XHJcbiAgYWRkRWxlbWVudChgJHtjdXJyZW50UmFjZX0gLnJhY2VfX2J1dHRvbnNgLCAnYnV0dG9uJywgJ2J1dHRvbiBidXR0b25fYmxhY2sgcmFjZV9fYnV0dG9uIHJhY2VfX2J1dHRvbl9yZW1vdmUnLCBudWxsLCAncmVtb3ZlJyk7XHJcbiAgYWRkRWxlbWVudChgJHtjdXJyZW50UmFjZX1gLCAnZGl2JywgJ3JhY2VfX2NvbnRyb2xzJywgJycpO1xyXG4gIGFkZEVsZW1lbnQoYCR7Y3VycmVudFJhY2V9IC5yYWNlX19jb250cm9sc2AsICdidXR0b24nLCAnYnV0dG9uIGJ1dHRvbl9tYWluLWNvbG9yIGJ1dHRvbl9yb3VuZCByYWNlX19jb250cm9sIHJhY2VfX2NvbnRyb2xfc3RhcnQnKTtcclxuICBhZGRFbGVtZW50KGAke2N1cnJlbnRSYWNlfSAucmFjZV9fY29udHJvbF9zdGFydGAsICdpbWcnLCAncmFjZV9fY29udHJvbC1pbWcnLCBudWxsLCBudWxsLCB7IG5hbWU6ICdzcmMnLCB2YWx1ZTogJy4vaW1hZ2VzL2J1dHRvbi1zdGFydC5zdmcnIH0pO1xyXG4gIGFkZEVsZW1lbnQoYCR7Y3VycmVudFJhY2V9IC5yYWNlX19jb250cm9sc2AsICdidXR0b24nLCAnYnV0dG9uIGJ1dHRvbl9tYWluLWNvbG9yIGJ1dHRvbl9yb3VuZCByYWNlX19jb250cm9sIHJhY2VfX2NvbnRyb2xfc3RvcCcsIG51bGwsIG51bGwsIHsgbmFtZTogJ2Rpc2FibGVkJywgdmFsdWU6ICcnIH0pO1xyXG4gIGFkZEVsZW1lbnQoYCR7Y3VycmVudFJhY2V9IC5yYWNlX19jb250cm9sX3N0b3BgLCAnaW1nJywgJ3JhY2VfX2NvbnRyb2wtaW1nJywgbnVsbCwgbnVsbCwgeyBuYW1lOiAnc3JjJywgdmFsdWU6ICcuL2ltYWdlcy9idXR0b24tc3RvcC5zdmcnIH0pO1xyXG4gIGFkZEVsZW1lbnQoYCR7Y3VycmVudFJhY2V9IC5yYWNlX19jb250cm9sc2AsICdwJywgJ3JhY2VfX2Nhci1uYW1lIHBhZ2VfX2Nhci1uYW1lJyk7XHJcbiAgYWRkRWxlbWVudChjdXJyZW50UmFjZSwgJ2RpdicsICdyYWNlX19yb2FkJyk7XHJcbiAgYWRkRWxlbWVudChgJHtjdXJyZW50UmFjZX0gLnJhY2VfX3JvYWRgLCAnZGl2JywgJ3JhY2VfX2NhciBwYWdlX19jYXInKTtcclxuICBjb25zdCBjYXJJbWcgPSBhd2FpdCBsb2FkU3ZnKCcuL2ltYWdlcy9jYXIuc3ZnJykudGhlbigoZGF0YSkgPT4gZGF0YSk7XHJcbiAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcihgJHtjdXJyZW50UmFjZX0gLnJhY2VfX2NhcmApLmlubmVySFRNTCA9IGNhckltZztcclxuICB1cGRhdGVDYXIoeyBpZCwgbmFtZSwgY29sb3IgfSk7XHJcbiAgc2V0R2FyYWdlTGlzdGVuZXJzKGN1cnJlbnRSYWNlKTtcclxuICBzZXRFbmFibGVkKCcuY29udHJvbHNfX3JhY2UtYnV0dG9uJyk7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIHNldEdhcmFnZVBhZ2UocGFnZU51bSwgcGFnZXNDb3VudCwgY2Fycykge1xyXG4gIGNvbnN0IHBvcHVwID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnBvcHVwJyk7XHJcbiAgaWYgKHBvcHVwKSBwb3B1cC5yZW1vdmUoKTtcclxuICBzZXRQYWdlKCdnYXJhZ2UnLCBwYWdlTnVtLCBwYWdlc0NvdW50LCBjYXJzLCBhZGRDYXJUb0dhcmFnZSk7XHJcbiAgZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLnJhY2UnKS5mb3JFYWNoKChyYWNlKSA9PiB7XHJcbiAgICByZXNldENhcihyYWNlLmRhdGFzZXQuaWQpO1xyXG4gIH0pO1xyXG59XHJcblxyXG5mdW5jdGlvbiBkZWxldGVDYXJGcm9tV2lubmVycyhpZCkge1xyXG4gIGNvbnN0IGNhckluV2lubmVyc1RhYmxlID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihgLndpbm5lcnMtdGFibGVfX3Jvd1tkYXRhLWlkPVwiJHtpZH1cIl1gKTtcclxuICBpZiAoY2FySW5XaW5uZXJzVGFibGUpIHtcclxuICAgIGNhckluV2lubmVyc1RhYmxlLnJlbW92ZSgpO1xyXG4gIH1cclxufVxyXG5cclxuZnVuY3Rpb24gZWRpdENhck5hbWVDaGVjayhldmVudCwgcmVsYXRlZEJ1dHRvbikge1xyXG4gIGlmIChldmVudC50YXJnZXQudmFsdWUgPT09ICcnKSB7XHJcbiAgICBzZXREaXNhYmxlZChgLiR7cmVsYXRlZEJ1dHRvbn1gKTtcclxuICB9IGVsc2Uge1xyXG4gICAgc2V0RW5hYmxlZChgLiR7cmVsYXRlZEJ1dHRvbn1gKTtcclxuICB9XHJcbn1cclxuXHJcbmZ1bmN0aW9uIHRhYkJ1dHRvbkNsaWNrKHRhYikge1xyXG4gIG1haW5UYWJzLmZvckVhY2goKGN1clRhYikgPT4ge1xyXG4gICAgY29uc3QgdGFiQnV0dG9uID0gYC5oZWFkZXJfX2J1dHRvbl90YWItJHtjdXJUYWJ9YDtcclxuICAgIGlmICh0YWIgPT09IGN1clRhYikge1xyXG4gICAgICBzaG93RWxlbWVudChgLnRhYi0ke2N1clRhYn1gKTtcclxuICAgICAgZG9jdW1lbnQucXVlcnlTZWxlY3Rvcih0YWJCdXR0b24pLmNsYXNzTGlzdC5hZGQoJ2hpZ2hsaWdodCcpO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgaGlkZUVsZW1lbnQoYC50YWItJHtjdXJUYWJ9YCk7XHJcbiAgICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IodGFiQnV0dG9uKS5jbGFzc0xpc3QucmVtb3ZlKCdoaWdobGlnaHQnKTtcclxuICAgIH1cclxuICB9KTtcclxufVxyXG5cclxuZnVuY3Rpb24gaW5pdExpc3RlbmVycygpIHtcclxuICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcubmV3LWNhcl9fbmFtZScpLmFkZEV2ZW50TGlzdGVuZXIoJ2lucHV0JywgKGV2ZW50KSA9PiB7XHJcbiAgICBlZGl0Q2FyTmFtZUNoZWNrKGV2ZW50LCAnbmV3LWNhcl9fYnV0dG9uX2NyZWF0ZScpO1xyXG4gIH0pO1xyXG5cclxuICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcudXBkYXRlLWNhcl9fbmFtZScpLmFkZEV2ZW50TGlzdGVuZXIoJ2lucHV0JywgKGV2ZW50KSA9PiB7XHJcbiAgICBlZGl0Q2FyTmFtZUNoZWNrKGV2ZW50LCAndXBkYXRlLWNhcl9fYnV0dG9uX3VwZGF0ZScpO1xyXG4gIH0pO1xyXG5cclxuICBtYWluVGFicy5mb3JFYWNoKCh0YWIpID0+IHtcclxuICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoYC5oZWFkZXJfX2J1dHRvbl90YWItJHt0YWJ9YCkuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XHJcbiAgICAgIHRhYkJ1dHRvbkNsaWNrKHRhYik7XHJcbiAgICB9KTtcclxuICB9KTtcclxufVxyXG5cclxuZnVuY3Rpb24gZ2V0V2lubmVyc1NvcnRTZXR0aW5ncygpIHtcclxuICBjb25zdCBzb3J0Q2VsbCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy53aW5uZXJzLXRhYmxlX19oZWFkZXItY2VsbFtkYXRhLW9yZGVyXScpO1xyXG4gIHJldHVybiB7XHJcbiAgICBzb3J0UGFyYW06IHNvcnRDZWxsLmRhdGFzZXQuc29ydCxcclxuICAgIHNvcnRPcmRlcjogc29ydENlbGwuZGF0YXNldC5vcmRlcixcclxuICB9O1xyXG59XHJcblxyXG5mdW5jdGlvbiBzb3J0SGVhZGVyQ2xpY2soZXZlbnQsIGNhbGxiYWNrKSB7XHJcbiAgY29uc3Qgc29ydENlbGwgPSBldmVudC5jdXJyZW50VGFyZ2V0O1xyXG4gIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy53aW5uZXJzLXRhYmxlX19oZWFkZXItY2VsbFtkYXRhLXNvcnRdJykuZm9yRWFjaCgoY2VsbCkgPT4ge1xyXG4gICAgaWYgKGNlbGwuZGF0YXNldC5zb3J0ICE9PSBzb3J0Q2VsbC5kYXRhc2V0LnNvcnQpIHtcclxuICAgICAgY2VsbC5yZW1vdmVBdHRyaWJ1dGUoJ2RhdGEtb3JkZXInKTtcclxuICAgIH1cclxuICB9KTtcclxuICBjb25zdCBzb3J0UGFyYW0gPSBzb3J0Q2VsbC5kYXRhc2V0LnNvcnQ7XHJcbiAgY29uc3Qgc29ydE9yZGVyID0gc29ydENlbGwuZGF0YXNldC5vcmRlciA9PT0gJ0FTQycgPyAnREVTQycgOiAnQVNDJztcclxuICBzb3J0Q2VsbC5kYXRhc2V0Lm9yZGVyID0gc29ydE9yZGVyO1xyXG4gIGNhbGxiYWNrKHsgc29ydFBhcmFtLCBzb3J0T3JkZXIgfSk7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIGNyZWF0ZUNhckNsaWNrKGNhbGxiYWNrKSB7XHJcbiAgY29uc3QgbmFtZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5uZXctY2FyX19uYW1lJykudmFsdWU7XHJcbiAgY29uc3QgY29sb3IgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcubmV3LWNhcl9fYnV0dG9uX2NvbG9yJykudmFsdWU7XHJcbiAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLm5ldy1jYXJfX25hbWUnKS52YWx1ZSA9ICcnO1xyXG4gIHNldERpc2FibGVkKCcubmV3LWNhcl9fYnV0dG9uX2NyZWF0ZScpO1xyXG4gIGNhbGxiYWNrKHsgbmFtZSwgY29sb3IgfSk7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIHVwZGF0ZUNhckNsaWNrKGNhbGxiYWNrKSB7XHJcbiAgY29uc3QgaWQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcudXBkYXRlLWNhcicpLmRhdGFzZXQuY2FySWQ7XHJcbiAgY29uc3QgbmFtZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy51cGRhdGUtY2FyX19uYW1lJykudmFsdWU7XHJcbiAgY29uc3QgY29sb3IgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcudXBkYXRlLWNhcl9fYnV0dG9uX2NvbG9yJykudmFsdWU7XHJcbiAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnVwZGF0ZS1jYXJfX25hbWUnKS52YWx1ZSA9ICcnO1xyXG4gIGRpc2FibGVVcGRhdGVCbG9jaygpO1xyXG4gIGNhbGxiYWNrKHsgaWQsIG5hbWUsIGNvbG9yIH0pO1xyXG59XHJcblxyXG5mdW5jdGlvbiByYWNlQ2xpY2soY2FsbGJhY2spIHtcclxuICBzZXREaXNhYmxlZCgnLmNvbnRyb2xzX19yYWNlLWJ1dHRvbicpO1xyXG4gIHNldERpc2FibGVkKCcuY29udHJvbHNfX3Jlc2V0LWJ1dHRvbicpO1xyXG4gIHNldERpc2FibGVkKCcuY29udHJvbHNfX2dlbmVyYXRlLWJ1dHRvbicpO1xyXG4gIGRpc2FibGVQYWdlQ29udHJvbHMoJ2dhcmFnZScpO1xyXG4gIGNvbnN0IGlkcyA9IFtdO1xyXG4gIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5yYWNlJykuZm9yRWFjaCgocmFjZSkgPT4ge1xyXG4gICAgaWRzLnB1c2goK3JhY2UuZGF0YXNldC5pZCk7XHJcbiAgICBzZXREaXNhYmxlZChyYWNlLnF1ZXJ5U2VsZWN0b3IoJy5yYWNlX19jb250cm9sX3N0YXJ0JykpO1xyXG4gICAgc2V0RGlzYWJsZWQocmFjZS5xdWVyeVNlbGVjdG9yKCcucmFjZV9fYnV0dG9uX3NlbGVjdCcpKTtcclxuICAgIHNldERpc2FibGVkKHJhY2UucXVlcnlTZWxlY3RvcignLnJhY2VfX2J1dHRvbl9yZW1vdmUnKSk7XHJcbiAgfSk7XHJcbiAgY2FsbGJhY2soaWRzKTtcclxufVxyXG5cclxuYXN5bmMgZnVuY3Rpb24gcmVzZXRDbGljayhjYWxsYmFjaykge1xyXG4gIHNldERpc2FibGVkKCcuY29udHJvbHNfX3Jlc2V0LWJ1dHRvbicpO1xyXG4gIGNvbnN0IGlkcyA9IFtdO1xyXG4gIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5yYWNlJykuZm9yRWFjaCgocmFjZSkgPT4ge1xyXG4gICAgaWRzLnB1c2goK3JhY2UuZGF0YXNldC5pZCk7XHJcbiAgfSk7XHJcbiAgYXdhaXQgY2FsbGJhY2soaWRzKTtcclxuICByZXNldFN0b3B3YXRjaCgpO1xyXG4gIGNvbnN0IHBvcHVwID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnBvcHVwJyk7XHJcbiAgaWYgKHBvcHVwKSB7XHJcbiAgICBwb3B1cC5yZW1vdmUoKTtcclxuICB9XHJcbn1cclxuXHJcbmZ1bmN0aW9uIHNldFBhZ2VDb250cm9sc0NhbGxiYWNrcyhcclxuICBnYXJhZ2VQcmV2Q2FsbGJhY2ssXHJcbiAgZ2FyYWdlTmV4dENhbGxiYWNrLFxyXG4gIHdpbm5lcnNQcmV2Q2FsbGJhY2ssXHJcbiAgd2lubmVyc05leHRDYWxsYmFjayxcclxuKSB7XHJcbiAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnRhYi1nYXJhZ2VfX3ByZXYtcGFnZScpLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgZ2FyYWdlUHJldkNhbGxiYWNrKTtcclxuICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcudGFiLWdhcmFnZV9fbmV4dC1wYWdlJykuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBnYXJhZ2VOZXh0Q2FsbGJhY2spO1xyXG4gIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy50YWItd2lubmVyc19fcHJldi1wYWdlJykuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCB3aW5uZXJzUHJldkNhbGxiYWNrKTtcclxuICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcudGFiLXdpbm5lcnNfX25leHQtcGFnZScpLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgd2lubmVyc05leHRDYWxsYmFjayk7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIHNldENhbGxiYWNrcyhcclxuICBnYXJhZ2VDcmVhdGVDYXJDYixcclxuICBnYXJhZ2VVcGRhdGVDYXJDYixcclxuICBkZWxldGVDYXJDYixcclxuICBnYXJhZ2VQcmV2UGFnZUNiLFxyXG4gIGdhcmFnZU5leHRQYWdlQ2IsXHJcbiAgd2luUHJldlBhZ2VDYixcclxuICB3aW5OZXh0UGFnZUNiLFxyXG4gIHdpblNvcnRDYixcclxuICBnZW5lcmF0ZUNhcnNDYixcclxuICBzdGFydENhckNiLFxyXG4gIHJlc2V0Q2FyQ2IsXHJcbiAgc3RhcnRSYWNlQ2IsXHJcbiAgcmVzZXRSYWNlQ2IsXHJcbikge1xyXG4gIHNldFBhZ2VDb250cm9sc0NhbGxiYWNrcyhnYXJhZ2VQcmV2UGFnZUNiLCBnYXJhZ2VOZXh0UGFnZUNiLCB3aW5QcmV2UGFnZUNiLCB3aW5OZXh0UGFnZUNiKTtcclxuICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuY29udHJvbHNfX2dlbmVyYXRlLWJ1dHRvbicpLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgYXN5bmMgKCkgPT4ge1xyXG4gICAgYXdhaXQgZ2VuZXJhdGVDYXJzQ2IoKTtcclxuICB9KTtcclxuICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcud2lubmVycy10YWJsZV9faGVhZGVyLWNlbGxbZGF0YS1zb3J0XScpLmZvckVhY2goKHNvcnQpID0+IHNvcnQuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoZXZlbnQpID0+IHtcclxuICAgIHNvcnRIZWFkZXJDbGljayhldmVudCwgd2luU29ydENiKTtcclxuICB9KSk7XHJcbiAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLm5ldy1jYXJfX2J1dHRvbl9jcmVhdGUnKS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcclxuICAgIGNyZWF0ZUNhckNsaWNrKGdhcmFnZUNyZWF0ZUNhckNiKTtcclxuICB9KTtcclxuICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcudXBkYXRlLWNhcl9fYnV0dG9uX3VwZGF0ZScpLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xyXG4gICAgdXBkYXRlQ2FyQ2xpY2soZ2FyYWdlVXBkYXRlQ2FyQ2IpO1xyXG4gIH0pO1xyXG4gIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5jb250cm9sc19fcmFjZS1idXR0b24nKS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcclxuICAgIHJhY2VDbGljayhzdGFydFJhY2VDYik7XHJcbiAgfSk7XHJcbiAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmNvbnRyb2xzX19yZXNldC1idXR0b24nKS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGFzeW5jICgpID0+IHtcclxuICAgIHJlc2V0Q2xpY2socmVzZXRSYWNlQ2IpO1xyXG4gIH0pO1xyXG4gIGRlbGV0ZUNhckNhbGxiYWNrID0gZGVsZXRlQ2FyQ2I7XHJcbiAgc3RhcnRDYXJDYWxsYmFjayA9IHN0YXJ0Q2FyQ2I7XHJcbiAgcmVzZXRDYXJDYWxsYmFjayA9IHJlc2V0Q2FyQ2I7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIGluaXRDb250cm9sUGFuZWwoKSB7XHJcbiAgYWRkRWxlbWVudCgnLnRhYi1nYXJhZ2UnLCAnZGl2JywgJ2NvbnRyb2wtcGFuZWwnKTtcclxuICBhZGRFbGVtZW50KCcuY29udHJvbC1wYW5lbCcsICdkaXYnLCAnbmV3LWNhcicpO1xyXG4gIGFkZEVsZW1lbnQoJy5uZXctY2FyJywgJ2lucHV0JywgJ2lucHV0IG5ldy1jYXJfX25hbWUnLCBudWxsLCBudWxsLCB7IG5hbWU6ICd0eXBlJywgdmFsdWU6ICd0ZXh0JyB9KTtcclxuICBhZGRFbGVtZW50KCcubmV3LWNhcicsICdpbnB1dCcsICdpbnB1dCBidXR0b24tY29sb3IgbmV3LWNhcl9fYnV0dG9uIG5ldy1jYXJfX2J1dHRvbl9jb2xvcicsIG51bGwsIG51bGwsIHsgbmFtZTogJ3R5cGUnLCB2YWx1ZTogJ2NvbG9yJyB9KTtcclxuICBhZGRFbGVtZW50KCcubmV3LWNhcicsICdidXR0b24nLCAnYnV0dG9uIGJ1dHRvbl9ibGFjayBjb250cm9sLXBhbmVsX19idXR0b24gbmV3LWNhcl9fYnV0dG9uX2NyZWF0ZScsIG51bGwsICdjcmVhdGUnKTtcclxuXHJcbiAgYWRkRWxlbWVudCgnLmNvbnRyb2wtcGFuZWwnLCAnZGl2JywgJ3VwZGF0ZS1jYXInKTtcclxuICBhZGRFbGVtZW50KCcudXBkYXRlLWNhcicsICdpbnB1dCcsICdpbnB1dCB1cGRhdGUtY2FyX19uYW1lJywgbnVsbCwgbnVsbCwgeyBuYW1lOiAndHlwZScsIHZhbHVlOiAndGV4dCcgfSk7XHJcbiAgYWRkRWxlbWVudCgnLnVwZGF0ZS1jYXInLCAnaW5wdXQnLCAnaW5wdXQgYnV0dG9uLWNvbG9yIHVwZGF0ZS1jYXJfX2J1dHRvbiB1cGRhdGUtY2FyX19idXR0b25fY29sb3InLCBudWxsLCBudWxsLCB7IG5hbWU6ICd0eXBlJywgdmFsdWU6ICdjb2xvcicgfSk7XHJcbiAgYWRkRWxlbWVudCgnLnVwZGF0ZS1jYXInLCAnYnV0dG9uJywgJ2J1dHRvbiBidXR0b25fYmxhY2sgY29udHJvbC1wYW5lbF9fYnV0dG9uIHVwZGF0ZS1jYXJfX2J1dHRvbl91cGRhdGUnLCBudWxsLCAndXBkYXRlJyk7XHJcblxyXG4gIGFkZEVsZW1lbnQoJy5jb250cm9sLXBhbmVsJywgJ2RpdicsICdjb250cm9scycpO1xyXG4gIGFkZEVsZW1lbnQoJy5jb250cm9scycsICdidXR0b24nLCAnYnV0dG9uIGJ1dHRvbl9tYWluLWNvbG9yIGNvbnRyb2xzX19yYWNlLWJ1dHRvbicsIG51bGwsICdyYWNlJyk7XHJcbiAgYWRkRWxlbWVudCgnLmNvbnRyb2xzJywgJ2J1dHRvbicsICdidXR0b24gYnV0dG9uX21haW4tY29sb3IgY29udHJvbHNfX3Jlc2V0LWJ1dHRvbicsIG51bGwsICdyZXNldCcpO1xyXG4gIGFkZEVsZW1lbnQoJy5jb250cm9scycsICdidXR0b24nLCAnYnV0dG9uIGJ1dHRvbl9tYWluLWNvbG9yIGNvbnRyb2xzX19nZW5lcmF0ZS1idXR0b24nLCBudWxsLCAnZ2VuZXJhdGUgY2FycycpO1xyXG59XHJcblxyXG5mdW5jdGlvbiBpbml0VGFicygpIHtcclxuICBhZGRFbGVtZW50KCcuaGVhZGVyX19jb250ZW50JywgJ2RpdicsICdoZWFkZXJfX2J1dHRvbnMnKTtcclxuICBhZGRFbGVtZW50KCcuaGVhZGVyX19jb250ZW50JywgJ2ltZycsICdoZWFkZXJfX2xvZ28nLCBudWxsLCBudWxsLCB7IG5hbWU6ICdzcmMnLCB2YWx1ZTogJy4vaW1hZ2VzL2xvZ28uc3ZnJyB9KTtcclxuICBtYWluVGFicy5mb3JFYWNoKCh0YWIsIGluZGV4KSA9PiB7XHJcbiAgICBhZGRFbGVtZW50KCcuaGVhZGVyX19idXR0b25zJywgJ2J1dHRvbicsIGBidXR0b24gYnV0dG9uX2JsYWNrIGhlYWRlcl9fYnV0dG9uIGhlYWRlcl9fYnV0dG9uX3RhYi0ke3RhYn1gLCBudWxsLCB0YWIpO1xyXG4gICAgYWRkRWxlbWVudCgnLm1haW5fX2NvbnRlbnQnLCAnc2VjdGlvbicsIGB0YWIgdGFiLSR7dGFifWApO1xyXG4gICAgaWYgKGluZGV4ID4gMCkge1xyXG4gICAgICBoaWRlRWxlbWVudChgLnRhYi0ke3RhYn1gKTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoYC5oZWFkZXJfX2J1dHRvbl90YWItJHt0YWJ9YCkuY2xhc3NMaXN0LmFkZCgnaGlnaGxpZ2h0Jyk7XHJcbiAgICB9XHJcbiAgfSk7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIGluaXRGb290ZXIoKSB7XHJcbiAgYWRkRWxlbWVudCgnLmZvb3Rlcl9fY29udGVudCcsICdhJywgJ2Zvb3Rlcl9fZ2l0aHViLWxvZ28nLCBudWxsLCBudWxsLCB7IG5hbWU6ICdocmVmJywgdmFsdWU6ICdodHRwczovL2dpdGh1Yi5jb20vQmF5YW5BbGV4JyB9KTtcclxuICBhZGRFbGVtZW50KCcuZm9vdGVyX19naXRodWItbG9nbycsICdpbWcnLCAnZm9vdGVyX19naXRodWItaW1nJywgbnVsbCwgbnVsbCwgeyBuYW1lOiAnc3JjJywgdmFsdWU6ICdpbWFnZXMvbG9nby1naXRodWIuc3ZnJyB9KTtcclxuICBhZGRFbGVtZW50KCcuZm9vdGVyX19jb250ZW50JywgJ2RpdicsICdmb290ZXJfX2NvcHlyaWdodCcsIG51bGwsICfCqSAwMS4yMDIzIE9sZWtzYW5kciBTaHloeWRhJyk7XHJcbiAgYWRkRWxlbWVudCgnLmZvb3Rlcl9fY29udGVudCcsICdhJywgJ2Zvb3Rlcl9fcnMtbG9nbycsIG51bGwsIG51bGwsIHsgbmFtZTogJ2hyZWYnLCB2YWx1ZTogJ2h0dHBzOi8vcnMuc2Nob29sLycgfSk7XHJcbiAgYWRkRWxlbWVudCgnLmZvb3Rlcl9fcnMtbG9nbycsICdpbWcnLCAnZm9vdGVyX19ycy1pbWcnLCBudWxsLCBudWxsLCB7IG5hbWU6ICdzcmMnLCB2YWx1ZTogJ2ltYWdlcy9sb2dvLXJzc2Nob29sLnN2ZycgfSk7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIGluaXRCb2R5KCkge1xyXG4gIGFkZEVsZW1lbnQoJy5ib2R5JywgJ2RpdicsICdib2R5X19jb250ZW50JywgbnVsbCwgbnVsbCwgbnVsbCwgJ2JlZ2luJyk7XHJcbiAgYWRkRWxlbWVudCgnLmJvZHlfX2NvbnRlbnQnLCAnaGVhZGVyJywgJ2hlYWRlcicpO1xyXG4gIGFkZEVsZW1lbnQoJy5oZWFkZXInLCAnZGl2JywgJ2hlYWRlcl9fY29udGVudCcpO1xyXG4gIGFkZEVsZW1lbnQoJy5ib2R5X19jb250ZW50JywgJ21haW4nLCAnbWFpbicpO1xyXG4gIGFkZEVsZW1lbnQoJy5tYWluJywgJ2RpdicsICdtYWluX19jb250ZW50Jyk7XHJcbiAgYWRkRWxlbWVudCgnLmJvZHlfX2NvbnRlbnQnLCAnZm9vdGVyJywgJ2Zvb3RlcicpO1xyXG4gIGFkZEVsZW1lbnQoJy5mb290ZXInLCAnZGl2JywgJ2Zvb3Rlcl9fY29udGVudCcpO1xyXG4gIGluaXRGb290ZXIoKTtcclxufVxyXG5cclxuZnVuY3Rpb24gYWRkUGFnZUNvbnRyb2wocGFnZU5hbWUpIHtcclxuICBhZGRFbGVtZW50KGAudGFiLSR7cGFnZU5hbWV9YCwgJ2RpdicsIGBwYWdlLWNvbnRyb2xzIHRhYi0ke3BhZ2VOYW1lfV9fcGFnZS1jb250cm9sc2ApO1xyXG4gIGFkZEVsZW1lbnQoYC50YWItJHtwYWdlTmFtZX0gLnBhZ2UtY29udHJvbHNgLCAnYnV0dG9uJywgYGJ1dHRvbiBidXR0b25fcm91bmQgYnV0dG9uX21haW4tY29sb3IgcGFnZS1jb250cm9sc19fYnV0dG9uIHBhZ2UtY29udHJvbHNfX2J1dHRvbl9wcmV2IHRhYi0ke3BhZ2VOYW1lfV9fcHJldi1wYWdlYCwgbnVsbCk7XHJcbiAgYWRkRWxlbWVudChgLnRhYi0ke3BhZ2VOYW1lfV9fcHJldi1wYWdlYCwgJ2ltZycsIG51bGwsIG51bGwsIG51bGwsIHsgbmFtZTogJ3NyYycsIHZhbHVlOiAnLi9pbWFnZXMvYW5nbGUtbGVmdC5zdmcnIH0pO1xyXG4gIGFkZEVsZW1lbnQoYC50YWItJHtwYWdlTmFtZX0gLnBhZ2UtY29udHJvbHNgLCAnZGl2JywgYHBhZ2UtY29udHJvbHNfX251bWJlciB0YWItJHtwYWdlTmFtZX1fX3BhZ2UtbnVtYmVyYCwgbnVsbCwgJzEnKTtcclxuICBhZGRFbGVtZW50KGAudGFiLSR7cGFnZU5hbWV9IC5wYWdlLWNvbnRyb2xzYCwgJ2J1dHRvbicsIGBidXR0b24gYnV0dG9uX3JvdW5kIGJ1dHRvbl9tYWluLWNvbG9yIHBhZ2UtY29udHJvbHNfX2J1dHRvbiBwYWdlLWNvbnRyb2xzX19idXR0b25fbmV4dCB0YWItJHtwYWdlTmFtZX1fX25leHQtcGFnZWAsIG51bGwpO1xyXG4gIGFkZEVsZW1lbnQoYC50YWItJHtwYWdlTmFtZX1fX25leHQtcGFnZWAsICdpbWcnLCBudWxsLCBudWxsLCBudWxsLCB7IG5hbWU6ICdzcmMnLCB2YWx1ZTogJy4vaW1hZ2VzL2FuZ2xlLXJpZ2h0LnN2ZycgfSk7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIGluaXRHYXJhZ2UoKSB7XHJcbiAgYWRkRWxlbWVudCgnLnRhYi1nYXJhZ2UnLCAnZGl2JywgJ3RhYi1nYXJhZ2VfX2NhcHRpb24td3JhcCcsICcnKTtcclxuICBhZGRFbGVtZW50KCcudGFiLWdhcmFnZV9fY2FwdGlvbi13cmFwJywgJ2RpdicsICd0YWItY2FwdGlvbiB0YWItZ2FyYWdlX19jYXB0aW9uJywgJycpO1xyXG4gIGFkZEVsZW1lbnQoJy50YWItZ2FyYWdlX19jYXB0aW9uJywgJ3NwYW4nLCAndGFiLWNhcHRpb25fX3RleHQgdGFiLWdhcmFnZV9fY2FwdGlvbi10ZXh0JywgbnVsbCwgJ2dhcmFnZScpO1xyXG4gIGFkZEVsZW1lbnQoJy50YWItZ2FyYWdlX19jYXB0aW9uJywgJ3NwYW4nLCAndGFiLWNhcHRpb25fX2NvdW50IHRhYi1nYXJhZ2VfX2NhcnMtY291bnQnLCBudWxsLCAnMCcpO1xyXG4gIGFkZEVsZW1lbnQoJy50YWItZ2FyYWdlX19jYXB0aW9uLXdyYXAnLCAneC1zdG9wd2F0Y2gnLCAncmFjZS1zdG9wd2F0Y2gnKTtcclxuICBhZGRFbGVtZW50KCcudGFiLWdhcmFnZScsICdkaXYnLCAncmFjZS1hcmVhIHBhZ2UnLCAnJyk7XHJcbiAgYWRkUGFnZUNvbnRyb2woJ2dhcmFnZScpO1xyXG59XHJcblxyXG5mdW5jdGlvbiBpbml0V2lubmVycygpIHtcclxuICBhZGRFbGVtZW50KCcudGFiLXdpbm5lcnMnLCAnZGl2JywgJ3RhYi1jYXB0aW9uIHRhYi13aW5uZXJzX19jYXB0aW9uJyk7XHJcbiAgYWRkRWxlbWVudCgnLnRhYi13aW5uZXJzX19jYXB0aW9uJywgJ3NwYW4nLCAndGFiLWNhcHRpb25fX3RleHQgdGFiLXdpbm5lcnNfX2NhcHRpb24tdGV4dCcsIG51bGwsICd3aW5uZXJzJyk7XHJcbiAgYWRkRWxlbWVudCgnLnRhYi13aW5uZXJzX19jYXB0aW9uJywgJ3NwYW4nLCAndGFiLWNhcHRpb25fX2NvdW50IHRhYi13aW5uZXJzX19jYXJzLWNvdW50JywgbnVsbCwgJzAnKTtcclxuICBhZGRFbGVtZW50KCcudGFiLXdpbm5lcnMnLCAndGFibGUnLCAnd2lubmVycy10YWJsZS13cmFwJyk7XHJcbiAgYWRkRWxlbWVudCgnLndpbm5lcnMtdGFibGUtd3JhcCcsICd0YWJsZScsICd3aW5uZXJzLXRhYmxlJyk7XHJcbiAgYWRkRWxlbWVudCgnLndpbm5lcnMtdGFibGUnLCAndGhlYWQnLCAnd2lubmVycy10YWJsZV9faGVhZGVyJyk7XHJcbiAgYWRkRWxlbWVudCgnLndpbm5lcnMtdGFibGVfX2hlYWRlcicsICd0cicsICd3aW5uZXJzLXRhYmxlX19oZWFkZXItcm93Jyk7XHJcbiAgYWRkRWxlbWVudCgnLndpbm5lcnMtdGFibGUnLCAndGJvZHknLCAnd2lubmVycy10YWJsZV9fYm9keSBwYWdlJyk7XHJcbiAgWycjJywgJ2NhciddLmZvckVhY2goKGNhcHRpb24pID0+IGFkZEVsZW1lbnQoJy53aW5uZXJzLXRhYmxlX19oZWFkZXItcm93JywgJ3RoJywgJ3dpbm5lcnMtdGFibGVfX2hlYWRlci1jZWxsJywgbnVsbCwgY2FwdGlvbikpO1xyXG4gIGFkZEVsZW1lbnQoJy53aW5uZXJzLXRhYmxlX19oZWFkZXItcm93JywgJ3RoJywgJ3dpbm5lcnMtdGFibGVfX2hlYWRlci1jZWxsJywgbnVsbCwgJ25hbWUnLCB7IG5hbWU6ICdkYXRhLW5hbWUnLCB2YWx1ZTogJycgfSk7XHJcbiAgYWRkRWxlbWVudCgnLndpbm5lcnMtdGFibGVfX2hlYWRlci1yb3cnLCAndGgnLCAnd2lubmVycy10YWJsZV9faGVhZGVyLWNlbGwnLCBudWxsLCBudWxsLCBbeyBuYW1lOiAnZGF0YS1zb3J0JywgdmFsdWU6ICd3aW5zJyB9LCB7IG5hbWU6ICdkYXRhLW9yZGVyJywgdmFsdWU6ICdBU0MnIH1dKTtcclxuICBhZGRFbGVtZW50KCcud2lubmVycy10YWJsZV9faGVhZGVyLWNlbGxbZGF0YS1zb3J0PVwid2luc1wiXScsICdkaXYnLCAnd2lubmVycy10YWJsZV9faGVhZGVyLWNlbGwtY29udGVudCcsIG51bGwsICd3aW5zJyk7XHJcbiAgYWRkRWxlbWVudCgnLndpbm5lcnMtdGFibGVfX2hlYWRlci1jZWxsW2RhdGEtc29ydD1cIndpbnNcIl0gLndpbm5lcnMtdGFibGVfX2hlYWRlci1jZWxsLWNvbnRlbnQnLCAnaW1nJywgJ3NvcnQtYXJyb3cnLCBudWxsLCBudWxsLCB7IG5hbWU6ICdzcmMnLCB2YWx1ZTogJy4vaW1hZ2VzL2Fycm93LXVwLnN2ZycgfSk7XHJcbiAgYWRkRWxlbWVudCgnLndpbm5lcnMtdGFibGVfX2hlYWRlci1yb3cnLCAndGgnLCAnd2lubmVycy10YWJsZV9faGVhZGVyLWNlbGwnLCBudWxsLCBudWxsLCB7IG5hbWU6ICdkYXRhLXNvcnQnLCB2YWx1ZTogJ3RpbWUnIH0pO1xyXG4gIGFkZEVsZW1lbnQoJy53aW5uZXJzLXRhYmxlX19oZWFkZXItY2VsbFtkYXRhLXNvcnQ9XCJ0aW1lXCJdJywgJ2RpdicsICd3aW5uZXJzLXRhYmxlX19oZWFkZXItY2VsbC1jb250ZW50JywgbnVsbCwgJ3RpbWUgKHNlYyknKTtcclxuICBhZGRFbGVtZW50KCcud2lubmVycy10YWJsZV9faGVhZGVyLWNlbGxbZGF0YS1zb3J0PVwidGltZVwiXSAud2lubmVycy10YWJsZV9faGVhZGVyLWNlbGwtY29udGVudCcsICdpbWcnLCAnc29ydC1hcnJvdycsIG51bGwsIG51bGwsIHsgbmFtZTogJ3NyYycsIHZhbHVlOiAnLi9pbWFnZXMvYXJyb3ctdXAuc3ZnJyB9KTtcclxuICBhZGRQYWdlQ29udHJvbCgnd2lubmVycycpO1xyXG59XHJcblxyXG5mdW5jdGlvbiBpbml0U3RhdGVzKCkge1xyXG4gIHNldERpc2FibGVkKCcubmV3LWNhcl9fYnV0dG9uX2NyZWF0ZScpO1xyXG4gIGRpc2FibGVVcGRhdGVCbG9jaygpO1xyXG4gIHNldERpc2FibGVkKCcuY29udHJvbHNfX3JhY2UtYnV0dG9uJyk7XHJcbiAgc2V0RGlzYWJsZWQoJy5jb250cm9sc19fcmVzZXQtYnV0dG9uJyk7XHJcbiAgZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLnBhZ2UtY29udHJvbHNfX2J1dHRvbicpLmZvckVhY2goKGJ1dHRvbikgPT4ge1xyXG4gICAgc2V0RGlzYWJsZWQoYnV0dG9uKTtcclxuICB9KTtcclxufVxyXG5cclxuZnVuY3Rpb24gaW5pdEN1c3RvbSgpIHtcclxuICBjdXN0b21FbGVtZW50cy5kZWZpbmUoJ3gtc3RvcHdhdGNoJywgU3RvcHdhdGNoKTtcclxufVxyXG5cclxuZnVuY3Rpb24gaW5pdFVpKCkge1xyXG4gIGluaXRCb2R5KCk7XHJcbiAgaW5pdEN1c3RvbSgpO1xyXG4gIGluaXRUYWJzKCk7XHJcbiAgaW5pdENvbnRyb2xQYW5lbCgpO1xyXG4gIGluaXRHYXJhZ2UoKTtcclxuICBpbml0V2lubmVycygpO1xyXG4gIGluaXRTdGF0ZXMoKTtcclxuICBpbml0TGlzdGVuZXJzKCk7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIHNldFRhYkFjdGl2ZSh0YWIpIHtcclxuICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcudGFiJykuZm9yRWFjaCgoY3VyVGFiKSA9PiAoY3VyVGFiLmlkID09PSB0YWIgPyBzaG93RWxlbWVudChgIyR7Y3VyVGFifWApIDogaGlkZUVsZW1lbnQoYCMke2N1clRhYn1gKSkpO1xyXG59XHJcblxyXG5leHBvcnQge1xyXG4gIGluaXRVaSxcclxuICBzZXRUYWJBY3RpdmUsXHJcbiAgYWRkQ2FyVG9HYXJhZ2UsXHJcbiAgYWRkQ2FyVG9XaW5uZXJzLFxyXG4gIGRlbGV0ZUNhckZyb21XaW5uZXJzLFxyXG4gIHNldEdhcmFnZUNvdW50LFxyXG4gIHNldFdpbm5lcnNDb3VudCxcclxuICBzZXRHYXJhZ2VQYWdlLFxyXG4gIHNldFdpbm5lcnNQYWdlLFxyXG4gIHNldENhbGxiYWNrcyxcclxuICB1cGRhdGVDYXIsXHJcbiAgZ2V0V2lubmVyc1NvcnRTZXR0aW5ncyxcclxuICBkcml2ZUNhcixcclxuICBzdG9wQ2FyLFxyXG4gIHJlc2V0Q2FyLFxyXG4gIHNob3dXaW5uZXJQb3B1cCxcclxuICBzaG93UmFjZUZhaWxQb3B1cCxcclxuICBydW5TdG9wd2F0Y2gsXHJcbiAgc3RvcFN0b3B3YXRjaCxcclxufTtcclxuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./src/modules/ui.js\n");

/***/ }),

/***/ "./data/cars.json":
/*!************************!*\
  !*** ./data/cars.json ***!
  \************************/
/***/ ((module) => {

module.exports = JSON.parse('[{"brand":"BMW","models":["E34 M5","E39 M5","E34 540","E30 M3","E39 540","E38 750","E60 540","3.0 CSL","E31 850 CSi","Alpina B12"]},{"brand":"Mercedes","models":["W124 E500","W140 S600","W123","W210","W211"]},{"brand":"Nissan","models":["GT-R","Skyline","Silvia","Bluebird"]},{"brand":"Subaru","models":["Legacy","Impreza WRX","Impreza WRX STI","BRZ"]},{"brand":"Toyota","models":["Supra","Mark II","Chaser","S800","GT86"]},{"brand":"Tesla","models":["Model S","Model X","Model Y","Model 3"]},{"brand":"Lamborghini","models":["Hurracan","Countach","Murcielago","Diablo"]},{"brand":"DeLorean","models":["DMC-12","DMC-12 Time Machine"]}]');

/***/ })

/******/ 	});
/************************************************************************/
/******/ 	// The module cache
/******/ 	var __webpack_module_cache__ = {};
/******/ 	
/******/ 	// The require function
/******/ 	function __webpack_require__(moduleId) {
/******/ 		// Check if module is in cache
/******/ 		var cachedModule = __webpack_module_cache__[moduleId];
/******/ 		if (cachedModule !== undefined) {
/******/ 			return cachedModule.exports;
/******/ 		}
/******/ 		// Create a new module (and put it into the cache)
/******/ 		var module = __webpack_module_cache__[moduleId] = {
/******/ 			// no module.id needed
/******/ 			// no module.loaded needed
/******/ 			exports: {}
/******/ 		};
/******/ 	
/******/ 		// Execute the module function
/******/ 		__webpack_modules__[moduleId](module, module.exports, __webpack_require__);
/******/ 	
/******/ 		// Return the exports of the module
/******/ 		return module.exports;
/******/ 	}
/******/ 	
/************************************************************************/
/******/ 	/* webpack/runtime/define property getters */
/******/ 	(() => {
/******/ 		// define getter functions for harmony exports
/******/ 		__webpack_require__.d = (exports, definition) => {
/******/ 			for(var key in definition) {
/******/ 				if(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {
/******/ 					Object.defineProperty(exports, key, { enumerable: true, get: definition[key] });
/******/ 				}
/******/ 			}
/******/ 		};
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/hasOwnProperty shorthand */
/******/ 	(() => {
/******/ 		__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/make namespace object */
/******/ 	(() => {
/******/ 		// define __esModule on exports
/******/ 		__webpack_require__.r = (exports) => {
/******/ 			if(typeof Symbol !== 'undefined' && Symbol.toStringTag) {
/******/ 				Object.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });
/******/ 			}
/******/ 			Object.defineProperty(exports, '__esModule', { value: true });
/******/ 		};
/******/ 	})();
/******/ 	
/************************************************************************/
/******/ 	
/******/ 	// startup
/******/ 	// Load entry module and return exports
/******/ 	// This entry module can't be inlined because the eval-source-map devtool is used.
/******/ 	var __webpack_exports__ = __webpack_require__("./src/index.js");
/******/ 	
/******/ })()
;